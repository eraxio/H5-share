(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{1e3:function(n,e,t){var content=t(1176);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[n.i,content,""]]),content.locals&&(n.exports=content.locals);(0,t(52).default)("6fcb1c38",content,!0,{sourceMap:!1})},1001:function(n,e,t){var content=t(1178);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[n.i,content,""]]),content.locals&&(n.exports=content.locals);(0,t(52).default)("d118c5b4",content,!0,{sourceMap:!1})},1175:function(n,e,t){"use strict";t(1e3)},1176:function(n,e,t){var r=t(51)(!1);r.push([n.i,".select-birdge {\n  background: #7632FF !important;\n  color: #ffffff !important;\n}\n.bridge-list {\n  display: flex;\n  margin: 0.346667rem 0.4rem 0.693333rem;\n  overflow-x: scroll;\n  scrollbar-width: none;\n  -ms-overflow-style: none;\n}\n.bridge-list::-webkit-scrollbar {\n  display: none;\n  /* Chrome Safari */\n}\n.bridge-list .bridge-list-item {\n  cursor: pointer;\n  padding: 0.226667rem 0.44rem;\n  display: flex;\n  align-items: center;\n  margin-right: 0.36rem;\n  background: #f8f8f8;\n  border-radius: 0.266667rem;\n  text-align: center;\n  justify-content: center;\n  font-size: 0.426667rem;\n  font-family: PingFang SC, PingFang SC-Medium;\n  font-weight: 600;\n  text-align: left;\n  color: #303133;\n}\n.bridge-list .bridge-list-item img {\n  width: 0.68rem;\n  margin: 0 !important;\n  margin-right: 0.093333rem !important;\n}\n.el-icon-arrow-down {\n  font-weight: 600 !important;\n}\n.option-pop {\n  background: #ffffff;\n  border-radius: 0.066667rem;\n  box-shadow: 0 0 0.2rem 0 rgba(0, 0, 0, 0.16);\n  padding: 0 !important;\n  padding-bottom: 0.306667rem !important;\n}\n.option-pop .el-popover__title {\n  margin: 0.24rem 0.426667rem 0.133333rem;\n  font-size: 0.186667rem;\n  font-family: PingFang SC, PingFang SC-Light;\n  font-weight: 400;\n  color: #909399;\n}",""]),n.exports=r},1177:function(n,e,t){"use strict";t(1001)},1178:function(n,e,t){var r=t(51),o=t(155),c=t(824),d=r(!1),f=o(c);d.push([n.i,'[data-v-04fc9800] .el-popper[x-placement^="bottom"] {\n  margin-top: 0.133333rem !important;\n}\n.van-field[data-v-04fc9800] {\n  width: 8.533333rem;\n  height: 1.426667rem;\n  opacity: 1;\n  background: #f5f5f5;\n  border-radius: 0.266667rem;\n  margin-left: 0.4rem;\n  font-size: 0.506667rem;\n  font-family: PingFang SC, PingFang SC-Semibold;\n  font-weight: 600;\n  color: #1b1b1b;\n}\n.van-field[data-v-04fc9800] .van-field__body {\n  height: 100% !important;\n}\n[data-v-04fc9800] .loading {\n  width: 1.333333rem;\n  height: 1.333333rem;\n  position: absolute;\n  top: calc(50% - 1.333333rem);\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n[data-v-04fc9800] .loading .path {\n  animation: loading-dash 1.5s ease-in-out infinite;\n  stroke-dasharray: 90,150;\n  stroke-dashoffset: 0;\n  stroke-width: 2;\n  stroke: #409eff;\n  stroke-linecap: round;\n}\n.btn-connect[data-v-04fc9800] {\n  width: 100% !important;\n}\n.cost-container[data-v-04fc9800] {\n  width: 8.533333rem;\n  height: 3.2rem;\n  opacity: 1;\n  background: #f5f5f5;\n  border-radius: 0.266667rem;\n  margin-top: 0.666667rem;\n  margin-left: 0.4rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n.chain-option[data-v-04fc9800] {\n  cursor: pointer;\n  position: relative;\n  display: flex;\n  align-items: center;\n  width: 3.906667rem;\n  height: 0.533333rem;\n  opacity: 1;\n  background: #f8f8f8;\n  border-radius: 0.066667rem;\n  margin-left: 0.226667rem;\n  font-size: 0.186667rem;\n  font-family: PingFang SC, PingFang SC-Light;\n  font-weight: 400;\n  color: #303133;\n}\n.chain-option img[data-v-04fc9800] {\n  width: 0.306667rem;\n  height: 0.306667rem;\n  margin: 0 0.106667rem 0 0.133333rem;\n}\n.chain-option .icon-gou[data-v-04fc9800] {\n  position: absolute;\n  right: 0.226667rem;\n  color: #1296db;\n}\n.select-option[data-v-04fc9800] {\n  background: #ffffff;\n}\n.transfer[data-v-04fc9800] {\n  width: 8.533333rem;\n  height: 1.333333rem;\n  opacity: 1;\n  background: linear-gradient(90deg, #52a3ec, #7a48e2);\n  border-radius: 0.666667rem;\n  margin: 0.88rem 0.4rem;\n  font-size: 0.426667rem;\n  font-family: PingFang SC, PingFang SC-Regular;\n  font-weight: 500;\n  color: #ffffff;\n}\n.nera-bridge[data-v-04fc9800] {\n  height: calc(100vh - 1.6rem);\n  overflow: hidden;\n  background-image: url('+f+");\n  background-size: 100% 100%;\n  background-repeat: no-repeat;\n  width: 100%;\n  border-radius: 0.066667rem;\n  padding-bottom: 1rem;\n}\n.nera-bridge .bridge-container[data-v-04fc9800] {\n  width: 9.333333rem;\n  height: calc(100vh - 2.933333rem);\n  overflow-y: scroll;\n  margin-top: 0.666667rem;\n  background: #ffffff;\n  border-radius: 0.453333rem;\n  box-shadow: 0 0.04rem 0.4rem 0 rgba(0, 0, 0, 0.18);\n  margin-left: 0.333333rem;\n}\n.nera-bridge .title[data-v-04fc9800] {\n  font-size: 0.666667rem;\n  font-family: PingFang SC, PingFang SC-Semibold;\n  font-weight: 600;\n  color: #1b1b1b;\n  padding-left: 0.4rem;\n  padding-top: 0.973333rem;\n  padding-bottom: 0.653333rem;\n}\n.nera-bridge .nera-bridge-swap[data-v-04fc9800] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.373333rem;\n  margin: 0 0.4rem 0.693333rem;\n}\n.nera-bridge .nera-bridge-swap .select-item[data-v-04fc9800] {\n  cursor: pointer;\n  width: 4.08rem;\n  height: 2rem;\n  opacity: 1;\n  background: #f5f5f5;\n  border-radius: 0.266667rem;\n  display: flex;\n  flex-direction: column;\n}\n.nera-bridge .nera-bridge-swap .select-item .desc[data-v-04fc9800] {\n  font-size: 0.426667rem;\n  font-family: PingFang SC, PingFang SC-Medium;\n  font-weight: 500;\n  color: #909399;\n  padding: 0.213333rem 0.266667rem;\n}\n.nera-bridge .nera-bridge-swap .select-item .coin-div[data-v-04fc9800] {\n  display: flex;\n  align-items: center;\n  padding-left: 0.266667rem;\n}\n.nera-bridge .nera-bridge-swap .select-item .coin-div span[data-v-04fc9800] {\n  font-size: 0.426667rem;\n  font-family: PingFang SC, PingFang SC-Regular;\n  font-weight: 600;\n  color: #303133;\n}\n.nera-bridge .nera-bridge-swap .select-item img[data-v-04fc9800] {\n  width: 0.64rem;\n  height: 0.64rem;\n  display: inline-block;\n  margin-right: 0.093333rem;\n}\n.nera-bridge .nera-bridge-swap .exchange[data-v-04fc9800] {\n  width: 0.6rem;\n  height: 0.6rem;\n  background: #f5f5f5;\n  border-radius: 0.066667rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.nera-bridge .nera-bridge-swap .exchange i[data-v-04fc9800] {\n  font-size: 0.186667rem !important;\n  font-weight: 300 !important;\n}\n.nera-bridge .nera-balance[data-v-04fc9800] {\n  padding: 0 0.4rem;\n  margin-bottom: 0.293333rem;\n}\n.nera-bridge .nera-balance .balance-title[data-v-04fc9800] {\n  font-size: 0.426667rem;\n  font-family: PingFang SC, PingFang SC-Medium;\n  font-weight: 500;\n  color: #909399;\n  line-height: 0.32rem;\n}\n.nera-bridge .nera-balance .balance[data-v-04fc9800] {\n  font-size: 0.506667rem;\n  font-family: PingFang SC, PingFang SC-Semibold;\n  font-weight: 600;\n  color: #1b1b1b;\n  margin-top: 0.32rem;\n}\n.nera-bridge .amount[data-v-04fc9800] {\n  font-size: 0.426667rem;\n  font-family: PingFang SC, PingFang SC-Medium;\n  font-weight: 500;\n  color: #909399;\n  margin-left: 0.4rem;\n  margin-bottom: 0.32rem;\n}\n.nera-bridge .notice[data-v-04fc9800] {\n  font-size: 0.186667rem;\n  font-family: PingFang SC, PingFang SC-Light;\n  font-weight: 400;\n  color: #303133;\n  line-height: 0.373333rem;\n}\n.nera-bridge .notice .add[data-v-04fc9800] {\n  font-size: 0.186667rem;\n  font-family: PingFang SC, PingFang SC-Light;\n  font-weight: 400;\n  color: #ffffff;\n  display: inline-block;\n  height: 0.333333rem !important;\n  line-height: 0.333333rem !important;\n  padding: 0 0.133333rem;\n}\n.nera-bridge .flex-sb[data-v-04fc9800] {\n  display: flex;\n  justify-content: space-between;\n  padding-bottom: 0.373333rem;\n  padding: 0 0.4rem;\n}\n.nera-bridge .flex-sb .coin-div[data-v-04fc9800] {\n  display: flex;\n  align-items: center;\n}\n.nera-bridge .flex-sb .txt1[data-v-04fc9800] {\n  font-size: 0.426667rem;\n  font-family: PingFang SC, PingFang SC-Medium;\n  font-weight: 500;\n  color: #606266;\n}\n.nera-bridge .flex-sb img[data-v-04fc9800] {\n  width: 0.24rem;\n  height: 0.24rem;\n  margin-left: 0.133333rem;\n  margin-right: 0.026667rem;\n}\n.nera-bridge .flex-sb .txt2[data-v-04fc9800] {\n  font-size: 0.186667rem;\n  font-weight: 600;\n  color: #303133;\n  margin-right: 0.04rem;\n}\n.nera-bridge .flex-sb .txt3[data-v-04fc9800] {\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  font-size: 0.426667rem;\n  font-family: PingFang SC, PingFang SC-Semibold;\n  font-weight: 600;\n  color: #1b1b1b;\n}\n.nera-bridge .flex-sb .txt3 i[data-v-04fc9800] {\n  font-weight: 600;\n  font-size: 0.16rem;\n  margin-left: 0.133333rem;\n}\n.nera-bridge .address[data-v-04fc9800] {\n  font-size: 0.426667rem;\n  font-family: PingFang SC, PingFang SC-Medium;\n  font-weight: 500;\n  color: #909399;\n  margin: 0 0.4rem;\n  padding-bottom: 0.266667rem;\n  border-bottom: 0.013333rem solid #E2E2E2;\n}\n.nera-bridge .address .address-txt1[data-v-04fc9800] {\n  color: #909399;\n}\n.nera-bridge .address .address-txt2[data-v-04fc9800] {\n  font-size: 0.373333rem;\n  font-family: PingFang SC, PingFang SC-Medium;\n  font-weight: 600;\n  color: #1b1b1b;\n  word-wrap: break-word;\n}\n.nera-bridge[data-v-04fc9800] .el-input {\n  margin: 0.2rem 0;\n  font-size: 0.373333rem;\n  font-family: PingFang SC, PingFang SC-Medium;\n  font-weight: 500;\n  color: #000000 !important;\n}\n.nera-bridge[data-v-04fc9800] .el-input__inner {\n  height: 0.8rem;\n  background: #fff;\n  color: #000000 !important;\n}\n.nera-bridge .cost-item[data-v-04fc9800] {\n  align-items: center;\n}\n.nera-bridge .cost-item .value[data-v-04fc9800] {\n  display: flex;\n  justify-content: space-between;\n  padding: 0 0.36rem;\n  font-size: 0.426667rem;\n  font-family: PingFang SC, PingFang SC-Semibold;\n  font-weight: 600;\n  text-align: left;\n  color: #f25c68;\n}\n.nera-bridge .cost-item .cost1[data-v-04fc9800] {\n  font-size: 0.186667rem;\n  font-family: PingFang SC, PingFang SC-Light;\n  font-weight: 400;\n  color: #303133;\n  padding: 0 0.36rem;\n  font-size: 0.426667rem;\n  font-family: PingFang SC, PingFang SC-Medium;\n  font-weight: 500;\n  color: #909399;\n}\n.nera-bridge .cost-item .cost2[data-v-04fc9800] {\n  padding: 0 0.36rem;\n  font-size: 0.426667rem;\n  font-family: PingFang SC, PingFang SC-Medium;\n  font-weight: 500;\n  color: #909399;\n}\n.nera-bridge .cost-item img[data-v-04fc9800] {\n  width: 0.453333rem;\n  height: 0.453333rem;\n  display: inline-block;\n  margin-right: 0.08rem;\n}\n.nera-bridge .cost-item .coin-icon[data-v-04fc9800] {\n  display: flex;\n  align-items: center;\n  font-size: 0.373333rem;\n  font-family: PingFang SC, PingFang SC-Regular;\n  font-weight: 400;\n  color: #909399;\n}\n.nera-bridge .cost-item .txt2[data-v-04fc9800] {\n  color: #324DFF;\n}\n.nera-bridge .bridge-btn[data-v-04fc9800] {\n  height: 0.8rem;\n  line-height: 0.8rem;\n  margin-bottom: 0.36rem;\n  cursor: pointer;\n  background: #4a9fff;\n  border-radius: 0.066667rem;\n  font-size: 0.186667rem;\n  font-family: PingFang SC, PingFang SC-Medium;\n  font-weight: 500;\n  text-align: center;\n  color: #ffffff;\n}\n.nera-bridge .bridge-btn[data-v-04fc9800]:hover {\n  background: #0076fb;\n  border-radius: 0.066667rem;\n  color: #ffffff;\n}\n.nera-bridge .tips[data-v-04fc9800] {\n  padding: 0 0.4rem;\n  margin-top: 0.333333rem;\n  padding-bottom: 0.68rem;\n}\n.nera-bridge .tips .tips-title[data-v-04fc9800] {\n  padding-bottom: 0.106667rem;\n  font-size: 0.426667rem !important;\n  font-family: PingFang SC, PingFang SC-Medium;\n  font-weight: 500;\n  color: #909399;\n}\n.nera-bridge .tips .desc[data-v-04fc9800] {\n  font-size: 0.373333rem;\n  font-family: PingFang SC, PingFang SC-Medium;\n  font-weight: 500;\n  color: #909399;\n  line-height: 0.506667rem;\n}",""]),n.exports=d},1310:function(n,e,t){"use strict";t.r(e);t(72),t(40),t(59),t(85),t(58),t(86),t(60),t(61),t(41),t(62),t(63),t(48);var r=t(13),o=t(18),c=(t(53),t(79),t(256),t(254),t(133),t(33),t(104),t(47),t(87)),d=t(157),f=t(943),l=t(103);function m(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=function(n,e){if(!n)return;if("string"==typeof n)return h(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h(n,e)}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(n){throw n},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,d=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return c=n.done,n},e:function(n){d=!0,o=n},f:function(){try{c||null==t.return||t.return()}finally{if(d)throw o}}}}function h(n,e){(null==e||e>n.length)&&(e=n.length);for(var i=0,t=new Array(e);i<e;i++)t[i]=n[i];return t}function v(object,n){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(object);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(object,n).enumerable}))),e.push.apply(e,t)}return e}function C(n){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(o.a)(n,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(source,e))}))}return n}var w={components:{LoadingPop:f.a},data:function(){return{price:"",balance:0,list:[],toChain:{},showPop:!1,constractChainObj:{},curConstractChain:{},receive:0,charge:0,BridgeABI:"",chainInfoData:{},showLoading:!1,curSelect:null,baseURL:"http://192.168.80.204/",loadingData:{type:0,isBridge:!0}}},head:function(){return{title:this.$t("Nav17")}},watch:{price:function(n){n&&(n=(n+"").match(/^\d*(\.?\d{0,4})/g)[0]||null,this.price=n,parseFloat(this.price)>parseFloat(this.balance)&&(this.price=this.balance),this.receive=(this.price-this.charge).toFixed(4),this.receive<0&&(this.receive=0))},mateMaskToken:function(){this.initConfig()}},computed:C(C({},Object(c.c)({mateMaskToken:function(n){return n.mateMaskToken},chainObj:function(n){return n.chainObj},configData:function(n){return n.configData},tokenAbi:function(n){return n.tokenAbi}})),{},{bridgeList:function(){var n=this.configData.bridge_asset;if(n){var e,t=[],r=m(n.split("|"));try{for(r.s();!(e=r.n()).done;){var o=e.value;if(o){var c=o.split(",");if(c.length){var d={};d.desc=c[0],d.icon=c[1],d.api=c[2],t.push(d)}}}}catch(n){r.e(n)}finally{r.f()}return t}return[]},curChain:function(){return"undefined"!=typeof web3&&this.chainObj&&this.chainObj[web3.currentProvider.chainId]?this.chainObj[web3.currentProvider.chainId]:{}},getShowList:function(){var n=[];if("undefined"!=typeof web3&&this.list.length){var e,t=m(this.list);try{for(t.s();!(e=t.n()).done;){var r="0x"+e.value.chainId.toString(16);r!==this.curChain.chainId&&n.push(this.chainObj[r])}}catch(n){t.e(n)}finally{t.f()}}return n}}),mounted:function(){this.baseURL="https://api.erax.io/",Object(d.c)(),this.bridgeList.length&&(this.curSelect=this.bridgeList[0]),this.initConfig()},methods:{selectBridge:function(n){this.curSelect=n,this.initConfig()},toSwitch:function(){var n=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var t,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!=typeof ethereum){e.next=2;break}return e.abrupt("return");case 2:if(t=n.toChain.chainId,data=n.chainInfoData[t]){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,ethereum.request({method:"wallet_addEthereumChain",params:data}).catch();case 8:e.sent;case 9:case"end":return e.stop()}}),e)})))()},initConfig:function(){var n=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var data,t,r,o,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.price="",n.balance=0,e.next=4,n.GetAddChainData();case 4:return e.next=6,n.$axios.get(n.baseURL+n.curSelect.api+"/public/getConfList");case 6:data=e.sent,n.list=data,t=m(n.list);try{for(t.s();!(r=t.n()).done;)o=r.value,n.constractChainObj["0x"+o.chainId.toString(16)]=o}catch(n){t.e(n)}finally{t.f()}if(n.constractChainObj[web3.currentProvider.chainId]){e.next=13;break}return n.$toast(n.$t("bridge_35")),e.abrupt("return");case 13:return e.next=15,n.$axios.post("/v1/udc/GetSystemConfig",{sAppId:"Erax-dev",sKey1:"bridge"});case 15:c=e.sent,d=c.vList,n.BridgeABI=d[0].sValue,n.curConstractChain=n.constractChainObj[web3.currentProvider.chainId],n.updateBalance(),n.$nextTick((function(){if(n.getShowList.length){n.$set(n,"toChain",n.getShowList[0]),n.toChain=n.getShowList[0];var e=n.constractChainObj[n.toChain.chainId];n.charge=parseFloat(parseFloat(e.fee).toFixed(4))}}));case 21:case"end":return e.stop()}}),e)})))()},updateBalance:function(){var n=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var t,r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.mateMaskToken||!n.tokenAbi){e.next=11;break}return(t=n.curConstractChain.neraAddress)||(t=n.curConstractChain.address),r=new web3.eth.Contract(JSON.parse(n.tokenAbi),t),e.next=6,r.methods.balanceOf(n.mateMaskToken).call().catch((function(n){if(n)return o=0,!1}));case 6:return o=e.sent,e.next=9,r.methods.decimals().call();case 9:c=e.sent,n.balance=Object(l.g)(o,c,4);case 11:case"end":return e.stop()}}),e)})))()},GetAddChainData:function(){var n=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var t,r,o,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.$axios.post("/v1/udc/GetSystemConfig",{sAppId:"Erax-dev",sKey1:"ChainData"});case 2:t=e.sent,r=t.vList,n.chainInfoData={},o=m(r);try{for(o.s();!(c=o.n()).done;)d=c.value,n.chainInfoData[d.sKey2]=JSON.parse(d.sValue)}catch(n){o.e(n)}finally{o.f()}case 7:case"end":return e.stop()}}),e)})))()},selectChain:function(n){this.toChain=n,this.showPop=!1},transfer:function(){var n=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var t,r,o,c,d,f,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loadingData.type=1,n.loadingData.scan=n.chainObj["0x"+n.curConstractChain.chainId.toString(16)],n.showLoading=!0,t=n.curConstractChain.neraAddress||n.curConstractChain.address,r=new web3.eth.Contract(JSON.parse(n.tokenAbi),t),e.next=7,web3.eth.getGasPrice();case 7:if(o=e.sent,console.log("推荐gas费==="+o),"ETH"!=n.curConstractChain.code){e.next=27;break}return e.next=12,r.methods.allowance(n.mateMaskToken,n.curConstractChain.address).call();case 12:if("0"!=(c=e.sent)){e.next=20;break}return console.log("跳转ERC20授权!"),e.next=17,r.methods.approve(n.curConstractChain.address,"1000000000000000000000000000000000000000000").send({from:n.mateMaskToken,gasPrice:o},(function(e,t){if(e)return n.showLoading=!1,console.log("授权报错"),n.$toast(n.$t("assets_lang_90")),n.showLoading=!1,!1}));case 17:return e.next=19,r.methods.allowance(n.mateMaskToken,n.curConstractChain.address).call();case 19:c=e.sent;case 20:if("0"!=c){e.next=26;break}return console.log("ERC20未授权!"),n.showLoading=!1,e.abrupt("return",!1);case 26:console.log("ERC20已授权!");case 27:return d=new web3.eth.Contract(JSON.parse(n.BridgeABI),n.curConstractChain.address),f=0,e.next=31,r.methods.decimals().call();case 31:return m=e.sent,f=Object(l.m)(n.price,m),e.next=35,d.methods.swapIn(f,n.toChain.chainId).send({from:n.mateMaskToken,gasPrice:o},(function(e,t){if(e)return n.showLoading=!1,!1;n.loadingData.type=2,n.loadingData.txId=t,n.showStake=!1,n.$axios.post(n.baseURL+n.curSelect.api+"/swapIn/swapIn",{txId:t,userAddress:n.mateMaskToken,amount:n.price,chainId:parseInt(n.toChain.chainId,16),fromChainId:n.curConstractChain.chainId})}));case 35:n.showLoading=!1,n.price="",n.receive=0,n.updateBalance();case 39:case"end":return e.stop()}}),e)})))()},getChainName:function(){return this.toChain.chainId&&this.chainObj?this.chainObj[this.toChain.chainId].name:""}}},y=(t(1175),t(1177),t(36)),component=Object(y.a)(w,(function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"nera-bridge"},[t("div",{staticClass:"bridge-container"},[t("div",{staticClass:"title"},[n._v(n._s(n.$t("bridge_1")))]),n._v(" "),t("div",{staticClass:"flex-sb"},[t("div",{staticClass:"coin-div"},[t("span",{staticClass:"txt1"},[n._v(n._s(n.$t("bridge_2")))])]),n._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:n.mateMaskToken,expression:"mateMaskToken"}],staticClass:"txt3",on:{click:function(e){return n.$router.push({path:"/bridge-history",query:{api:n.curSelect.api}})}}},[n._v("\n        "+n._s(n.$t("bridge_14"))+"  "),t("i",{staticClass:"fas fa-chevron-right"})])]),n._v(" "),t("div",{staticClass:"bridge-list"},n._l(n.bridgeList,(function(e,r){return t("div",{key:r,staticClass:"bridge-list-item",class:n.curSelect&&n.curSelect.desc===e.desc?"select-birdge":"",on:{click:function(t){return n.selectBridge(e)}}},[t("img",{attrs:{src:e.icon,alt:""}}),n._v(" "),t("div",[n._v(n._s(e.desc))])])})),0),n._v(" "),t("div",{staticClass:"nera-bridge-swap"},[t("div",{staticClass:"select-item"},[t("div",{staticClass:"desc"},[n._v("From")]),n._v(" "),t("div",{staticClass:"coin-div"},[t("img",{attrs:{src:n.curChain.icon,alt:""}}),n._v(" "),t("span",[n._v(n._s(n.curChain.name))])])]),n._v(" "),t("div",{staticClass:"select-item"},[t("div",{staticClass:"desc"},[n._v("To")]),n._v(" "),t("div",{staticClass:"coin-div"},[t("img",{attrs:{src:n.toChain.icon,alt:""}}),n._v(" "),t("span",[n._v(n._s(n.toChain.name))])])])]),n._v(" "),t("div",{staticClass:"nera-balance"},[t("div",{staticClass:"balance-title"},[n._v(n._s(n.$t("bridge_6"))+": ")]),t("div",{staticClass:"balance"},[n._v(n._s(n._f("filterThousands")(n.balance)))])]),n._v(" "),t("div",[t("div",{staticClass:"amount"},[n._v(n._s(n.$t("bridge_7")))]),n._v(" "),t("van-field",{staticClass:"input-with-select",attrs:{type:"number"},model:{value:n.price,callback:function(e){n.price=e},expression:"price"}})],1),n._v(" "),t("div",{staticClass:"cost-container"},[t("div",{staticClass:"cost-item",attrs:{span:12}},[t("div",{staticClass:"cost1"},[n._v(n._s(n.$t("bridge_8")))]),n._v(" "),t("div",{staticClass:"value"},[t("div",[n._v("≈"+n._s(n.receive))]),t("div",{staticClass:"coin-icon"},[t("img",{attrs:{src:n.curSelect&&n.curSelect.icon,alt:""}}),t("span",[n._v(n._s(n.curSelect&&n.curSelect.desc))])])])]),n._v(" "),t("div",{staticClass:"cost-item",attrs:{span:12}},[t("div",{staticClass:"cost2"},[n._v(n._s(n.toChain.name)+" Gas  ")]),n._v(" "),t("div",{staticClass:"value"},[t("div",{staticClass:"txt2"},[n._v("≈"+n._s(n.charge))]),t("div",{staticClass:"coin-icon"},[t("img",{attrs:{src:n.curSelect&&n.curSelect.icon,alt:""}}),t("span",[n._v(n._s(n.curSelect&&n.curSelect.desc))])])])])]),n._v(" "),n.mateMaskToken?t("van-button",{staticClass:"transfer",attrs:{round:"",disabled:n.price<=0||n.receive<5||!n.curConstractChain.chainId},on:{click:n.transfer}},[n._v("\n      "+n._s(n.$t("bridge_16"))+"\n    ")]):n._e(),n._v(" "),t("div",{staticClass:"address"},[t("span",{staticClass:"address-txt1"},[n._v(n._s(n.$t("bridge_9"))+": ")]),t("span",{staticClass:"address-txt2"},[n._v(n._s(n.mateMaskToken))])]),n._v(" "),t("div",{staticClass:"tips"},[t("div",{staticClass:"tips-title desc"},[n._v(n._s(n.$t("bridge_10")))]),n._v(" "),t("div",{staticClass:"desc"},[n._v("1. "+n._s(n.$t("bridge_11"))+" "+n._s(parseFloat((n.charge+5).toFixed(4)))+" "+n._s(n.curSelect&&n.curSelect.desc)+".")]),n._v(" "),t("div",{staticClass:"desc"},[n._v("2. "+n._s(n.$t("bridge_12"))+" "+n._s(n.balance)+" "+n._s(n.curSelect&&n.curSelect.desc)+".")]),n._v(" "),t("div",{staticClass:"desc"},[n._v("\n        3. "+n._s(n.$t("bridge_13"))+"\n      ")])])],1),n._v(" "),t("van-overlay",{attrs:{show:n.showLoading}},[t("div",{staticClass:"wrapper"},[t("van-loading",{attrs:{type:"spinner",color:"#1989fa"},model:{value:n.showLoading,callback:function(e){n.showLoading=e},expression:"showLoading"}})],1)])],1)}),[],!1,null,"04fc9800",null);e.default=component.exports},824:function(n,e,t){n.exports=t.p+"img/activity-bg.a66bcb7.png"},863:function(n,e,t){var content=t(930);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[n.i,content,""]]),content.locals&&(n.exports=content.locals);(0,t(52).default)("441fd4d8",content,!0,{sourceMap:!1})},929:function(n,e,t){"use strict";t(863)},930:function(n,e,t){var r=t(51)(!1);r.push([n.i,".loading-pop-container[data-v-35e695cc] {\n  text-align: center;\n}\n.loading-pop-container img[data-v-35e695cc] {\n  margin-top: 0.533333rem;\n}\n.loading-pop-container .loading-title[data-v-35e695cc] {\n  font-size: 0.24rem;\n  font-family: PingFang SC, PingFang SC-Semibold;\n  font-weight: 600;\n  color: #303133;\n  margin: 0.173333rem 0;\n}\n.loading-pop-container .loading-desc[data-v-35e695cc] {\n  font-size: 0.186667rem;\n  font-family: PingFang SC, PingFang SC-Light;\n  font-weight: 400;\n  text-align: center;\n  color: #707070;\n  margin-bottom: 0.533333rem;\n}\n.loading-pop-container .loading-btn[data-v-35e695cc] {\n  font-size: 0.186667rem;\n  font-family: PingFang SC, PingFang SC-Light;\n  font-weight: 400;\n  color: #4a9fff;\n  cursor: pointer;\n}\n.top-container[data-v-35e695cc] {\n  border-bottom: 0.013333rem solid #fefbf0;\n  padding-bottom: 0.186667rem;\n}\n[data-v-35e695cc] .van-popup__body {\n  font-size: 0.213333rem;\n  font-family: PingFang SC, PingFang SC-Semibold;\n  font-weight: 600;\n  color: #1d1d1d;\n  padding: 0 0.44rem 0.4rem;\n}\n[data-v-35e695cc] .van-popup__header {\n  padding: 0;\n}\n[data-v-35e695cc] .van-popup__headerbtn {\n  right: -0.56rem;\n  top: 0;\n  width: 0.44rem;\n  height: 0.44rem;\n  border-radius: 50%;\n  background: #ffffff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n[data-v-35e695cc] .van-popup__headerbtn .van-popup__close {\n  color: #2C2E33 !important;\n  font-weight: 600 !important;\n}",""]),n.exports=r},943:function(n,e,t){"use strict";t(72),t(40),t(59),t(85),t(58),t(86);var r=t(18),o=(t(47),t(87));function c(object,n){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(object);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(object,n).enumerable}))),e.push.apply(e,t)}return e}var d={props:{value:{type:Boolean,default:!1},dataInfo:{type:Object,default:function(){}}},data:function(){return{dialogVisible:this.value}},mounted:function(){},watch:{value:function(n){this.dialogVisible=n},dataInfo:{handler:function(n,e){this.checkShowClose()},deep:!0}},computed:function(n){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(n,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(source,e))}))}return n}({},Object(o.c)({mateMaskToken:function(n){return n.mateMaskToken}})),methods:{toScan:function(){window.open(this.dataInfo.scan.scanUrl+this.dataInfo.txId)},checkShowClose:function(){var n=this;this.$nextTick((function(){var e=document.getElementsByClassName("van-popup__headerbtn")[0];1===n.dataInfo.type?e.style.display="none":e.style.display="block"}))},getTitle:function(){return this.dataInfo.isBridge?2==this.dataInfo.type?this.$t("bridge_32"):this.$t("bridge_29"):this.$t("ido_18")},getDesc:function(){return this.dataInfo.isBridge?2==this.dataInfo.type?this.$t("bridge_33"):this.dataInfo.scan&&this.dataInfo.scan.name+" "+this.$t("bridge_30"):this.$t("ido_17")},getScanBtn:function(){return 2==this.dataInfo.type?this.$t("bridge_31")+this.dataInfo.scan.scan+this.$t("bridge_34"):""},handleClose:function(n){this.$emit("input",!1)}}},f=(t(929),t(36)),component=Object(f.a)(d,(function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",[t("van-popup",{attrs:{visible:n.dialogVisible,"append-to-body":"",center:"","lock-scroll":"","close-on-click-modal":!1,width:"467px",top:"40vh","before-close":n.handleClose},on:{"update:visible":function(e){n.dialogVisible=e}}},[t("div",{staticClass:"loading-pop-container"},[t("div",{staticClass:"loading-title"},[n._v(n._s(n.getTitle()))]),n._v(" "),t("div",{staticClass:"loading-desc"},[n._v(n._s(n.getDesc()))]),n._v(" "),t("div",{staticClass:"loading-btn",on:{click:n.toScan}},[n._v(n._s(n.getScanBtn()))])])])],1)}),[],!1,null,"35e695cc",null);e.a=component.exports}}]);