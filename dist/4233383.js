(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{333:function(e,t,n){var content=n(337);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(35).default)("19766eaa",content,!0,{sourceMap:!1})},334:function(e,t,n){e.exports=n.p+"img/music.899c6a2.gif"},335:function(e,t,n){e.exports=n.p+"img/music_static.e8a2f61.png"},336:function(e,t,n){"use strict";n(333)},337:function(e,t,n){var o=n(34)(!1);o.push([e.i,".media[data-v-597d3476] {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n.el-image[data-v-597d3476] {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n.media-container[data-v-597d3476] {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n.media-container .media-gif[data-v-597d3476] {\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n}\n.media-container .media-control[data-v-597d3476] {\n  position: absolute;\n  right: 0;\n  left: 0;\n  bottom: 0.133333rem;\n  color: #FFFFFF;\n  font-size: 0.533333rem;\n  height: 0.533333rem;\n  display: flex;\n  justify-content: center;\n  z-index: 120;\n}\n.media-container .media-control-bar[data-v-597d3476] {\n  bottom: 0;\n  position: absolute;\n  z-index: 10;\n  height: 0.08rem;\n  left: 0;\n  background-color: #5b90ed;\n}\n[data-v-597d3476] .el-image__inner {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n.video[data-v-597d3476] {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\naudio[data-v-597d3476] {\n  width: 100%;\n}\n.sign[data-v-597d3476] {\n  position: absolute;\n  top: 0.266667rem;\n  right: 0.266667rem;\n  z-index: 1;\n  font-size: 0.266667rem;\n  text-shadow: 0 0 0.066667rem rgba(9, 1, 4, 0.3);\n  color: #fff;\n}\n.popVideo[data-v-597d3476] {\n  width: 100%;\n}\n.container[data-v-597d3476] {\n  width: 100%;\n  height: 100%;\n  background: #f5f5f5;\n}",""]),e.exports=o},338:function(e,t,n){"use strict";n.r(t);var o=n(23),r=(n(49),n(156),n(76)),d={components:Object(o.a)({},r.a.Component.name,r.a.Component),props:{url:{type:String,default:function(){return""}},isPopVideo:{type:Boolean,default:function(){return!1}},isPopImg:{type:Boolean,default:function(){return!1}}},data:function(){return{dialogVisible:!1,isPlaying:!1,camera:null,scene:null,renderer:null,mush:null,loader:null,mixer:null,controls:null,time:(new Date).getTime(),duration:0,currentTime:0}},computed:{controlsWidth:function(){return{width:(this.currentTime/this.duration*100).toFixed(2)+"%"}}},mounted:function(){this.url},watch:{url:function(e,ol){e&&this.$nextTick((function(){}))}},methods:{handleShowPic:function(){Object(r.a)([this.url])},getDuration:function(){this.$refs.player&&(this.duration=this.$refs.player.duration)},updateTime:function(e){this.currentTime=e.target.currentTime},handleOnePlay:function(){this.isPlaying?(this.$refs.player.pause(),this.isPlaying=!1):(this.$refs.player.play(),this.isPlaying=!0)},getType:function(){return/\.(gif|jpg|jpeg|png|GIF|JPEG|JPG|PNG|svg|SVG)$/.test(this.url)?"img":/\.(mp4|webm|wav|ogg|MP4|MOV|WEBM|WAV|OGG)$/.test(this.url)?"video":/\.(mp3|MP3)$/.test(this.url)?"mp3":"3D"},createRect:function(){var e=new THREE.PlaneGeometry(1e3,1e3),t=new THREE.MeshBasicMaterial({color:11184810});return new THREE.Mesh(e,t)},handleClose:function(){this.$refs.popvideo.pause(),this.dialogVisible=!1},playVideo:function(){var e=this;if(!this.isPopVideo)return!1;this.dialogVisible=!0,this.$nextTick((function(){e.$refs.popvideo.currentTime=0,e.$refs.popvideo.play()}))},init:function(){var e=this;if("3D"===this.getType()){var t=document.getElementById("container"+this.time);this.camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.z=5,this.scene=new THREE.Scene;(new GLTFLoader).load(this.url,(function(t){e.scene.add(t.scene)}));var n=new THREE.AmbientLight(4210752,10);this.scene.add(n);var o=new THREE.DirectionalLight(16777215);this.scene.add(o);var r=new THREE.SpotLight(16777215);r.position.set(100,1e3,100),r.castShadow=!0,r.shadow.mapSize.width=1024,r.shadow.mapSize.height=1024,r.shadow.camera.near=500,r.shadow.camera.far=4e3,r.shadow.camera.fov=30,this.scene.add(r),(n=new THREE.PointLight(16711680,1,100)).position.set(50,50,50),this.scene.add(n);window.innerWidth,window.innerHeight;this.renderer=new THREE.WebGLRenderer({antialias:!0}),this.renderer.setSize(t.clientWidth,t.clientHeight),t.appendChild(this.renderer.domElement),this.controls=new OrbitControls(this.camera,this.renderer.domElement)}},render:function(){"3D"===this.getType()&&(requestAnimationFrame(this.render),this.renderer.render(this.scene,this.camera))}}},l=(n(336),n(22)),component=Object(l.a)(d,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"media"},["img"===e.getType()?o("img",{staticClass:"el-image",attrs:{src:e.url},on:{click:function(t){return t.stopPropagation(),e.handleShowPic.apply(null,arguments)}}}):e._e(),e._v(" "),"video"===e.getType()?o("div",{staticClass:"media-container",on:{click:function(t){return t.stopPropagation(),e.handleOnePlay.apply(null,arguments)}}},[o("video",{ref:"player",staticClass:"video",attrs:{loop:"",src:e.url,"webkit-playsinline":"true",playsinline:"true","x5-playsinline":"true",poster:e.url+"?vframe/jpg/offset/1"},on:{click:e.playVideo}})]):e._e(),e._v(" "),"mp3"===e.getType()?o("div",{staticClass:"media-container",on:{click:function(t){return t.stopPropagation(),e.handleOnePlay.apply(null,arguments)}}},[e.isPlaying?o("img",{staticClass:"media-gif",attrs:{src:n(334),alt:""}}):o("img",{staticClass:"media-gif",attrs:{src:n(335),alt:""}}),e._v(" "),o("div",{staticClass:"media-control-bar",style:e.controlsWidth}),e._v(" "),o("audio",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"player",attrs:{controls:"",loop:"",src:e.url},on:{canplay:e.getDuration,timeupdate:e.updateTime}})]):e._e(),e._v(" "),"mp3"===e.getType()?o("van-icon",{staticClass:"sign",attrs:{name:"music-o"}}):e._e(),e._v(" "),"video"===e.getType()?o("van-icon",{staticClass:"sign",attrs:{name:"video-o"}}):e._e()],1)}),[],!1,null,"597d3476",null);t.default=component.exports}}]);