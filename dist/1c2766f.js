(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{1043:function(e,t,r){e.exports=r.p+"img/complete_avatar.dc7b2e2.png"},1044:function(e,t,r){"use strict";r(929)},1045:function(e,t,r){var n=r(51)(!1);n.push([e.i,".o-complete .o-box[data-v-6cade121] {\n  padding: 1.013333rem 0.533333rem 0;\n  text-align: center;\n}\n.o-complete .o-box .c-avatar[data-v-6cade121] {\n  width: 2.133333rem;\n  height: 2.133333rem;\n  margin-bottom: 0.826667rem;\n  object-fit: cover;\n}\n.o-complete .o-box .o-field[data-v-6cade121] {\n  margin: 0 auto 0.826667rem;\n  padding: 0;\n}\n.o-complete .o-box .o-field[data-v-6cade121]:after {\n  border: 0;\n}\n.o-complete .o-box .o-field[data-v-6cade121] .van-field__error-message {\n  padding: 0 0.4rem;\n}\n.o-complete .o-box .o-field[data-v-6cade121] .van-field__body {\n  min-height: 1.146667rem;\n  background: #fafafa;\n  border: 0;\n  border-radius: 0.533333rem;\n  padding: 0.266667rem 0.4rem;\n}\n.o-complete .o-box .o-field.c[data-v-6cade121] {\n  margin-bottom: 2.346667rem;\n}\n.o-complete .o-box .o-btn[data-v-6cade121] {\n  width: 90%;\n  height: 1.146667rem;\n  background: #7632FF;\n  border-radius: 0.573333rem;\n  color: #ffffff;\n  border: 0;\n  margin: 0 auto;\n}\n.o-uploader-upload[data-v-6cade121],[data-v-6cade121] .van-uploader__preview-image {\n  width: 2.133333rem;\n  height: 2.133333rem;\n  text-align: center;\n}",""]),e.exports=n},1145:function(e,t,r){"use strict";r.r(t);r(64),r(41),r(55),r(80),r(54),r(81);var n=r(14),o=r(33),c=(r(74),r(90),r(53),r(82));function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var d={layout:"single-container",name:"complete",computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(c.c)({userInfo:function(e){return e.userInfo}})),data:function(){return{cForm:{},roleInfo:{}}},mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.GetUserExten();case 2:case"end":return t.stop()}}),t)})))()},methods:{GetUserExten:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.post("/v1/udc/GetUserExten",{iUserId:e.userInfo.iUserId});case 2:r=t.sent,e.cForm=Object.assign({},r.stUserExtenInfo),e.roleInfo=r.stUserExtenInfo;case 5:case"end":return t.stop()}}),t)})))()},handleSubmit:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return{iUserId:e.cForm.iUserId,sAvatar:e.cForm.sAvatar,sNickName:e.cForm.sNickName},t.next=3,e.$axios.post("/v1/udc/ChgUserExten",e.cForm);case 3:e.$store.dispatch("UPDATE_USERINFO"),e.$toast(e.$t("Account28")),e.$route.query.step?e.$router.replace("/main"):e.$router.back();case 6:case"end":return t.stop()}}),t)})))()},afterRead:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,data,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.file,(data=new FormData).append("file",n),r.next=5,t.$axios.post("/v1/oss/PublicUpload",data);case 5:(o=r.sent).vUrlPath.length&&t.$set(t.cForm,"sAvatar",o.vUrlPath[0]);case 7:case"end":return r.stop()}}),r)})))()},validator:function(e){return e.length>=2&&e.length<=16},handleDelete:function(e){return this.$set(this.oAnswer,"sAvatar",""),!0},onOversize:function(e){console.log(e),this.$toast(this.$t("Tip16"))}}},m=(r(1044),r(32)),component=Object(m.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"o-complete"},[n("van-nav-bar",{attrs:{title:e.$t("Account23"),"left-arrow":""},on:{"click-left":function(t){return e.$router.back()}}}),e._v(" "),n("div",{staticClass:"o-box"},[n("van-form",{on:{submit:e.handleSubmit}},[n("van-uploader",{staticClass:"c-avatar",attrs:{"max-count":1,"max-size":8388608,"after-read":e.afterRead,"before-delete":e.handleDelete},on:{oversize:e.onOversize}},[n("div",{staticClass:"o-uploader-upload"},[e.cForm.sAvatar?n("img",{staticClass:"c-avatar",attrs:{src:e.cForm.sAvatar,alt:""}}):n("img",{staticClass:"c-avatar",attrs:{src:r(1043),alt:""}})])]),e._v(" "),n("van-field",{staticClass:"o-field",attrs:{placeholder:e.$t("Account24"),rules:[{required:!0,message:e.$t("Account26")},{validator:e.validator,message:e.$t("Tip17")}]},model:{value:e.cForm.sNickName,callback:function(t){e.$set(e.cForm,"sNickName",t)},expression:"cForm.sNickName"}}),e._v(" "),n("van-field",{staticClass:"o-field c",attrs:{type:"textarea",rows:5,placeholder:e.$t("Account25"),maxlength:"100"},model:{value:e.cForm.sBio,callback:function(t){e.$set(e.cForm,"sBio",t)},expression:"cForm.sBio"}}),e._v(" "),n("van-button",{staticClass:"o-btn",attrs:{block:"","native-type":"submit",disabled:!e.cForm.sNickName}},[e._v(e._s(e.$t("Account14"))+"\n      ")])],1)],1)],1)}),[],!1,null,"6cade121",null);t.default=component.exports},929:function(e,t,r){var content=r(1045);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(52).default)("2ff4f11b",content,!0,{sourceMap:!1})}}]);