(window.webpackJsonp=window.webpackJsonp||[]).push([[33,11],{1165:function(e,t,n){"use strict";n(998)},1166:function(e,t,n){var r=n(51),o=n(155),c=n(1167),l=n(928),d=r(!1),f=o(c),h=o(l);d.push([e.i,".icon-share[data-v-2ac2479e] {\n  font-size: 0.426667rem;\n}\n.o-warp[data-v-2ac2479e] {\n  height: calc(100vh - 1.6rem);\n  overflow-y: scroll;\n  padding: 0 0.266667rem 0.8rem;\n  background-image: url("+f+");\n  background-size: 100% 100%;\n}\n.o-warp .o-warp-title[data-v-2ac2479e] {\n  font-size: 0.56rem;\n  font-weight: 700;\n  text-align: center;\n  color: #ffffff;\n  line-height: 0.746667rem;\n  padding: 0.533333rem 0;\n  word-break: break-word;\n}\n.o-warp .o-warp-box[data-v-2ac2479e] {\n  min-height: calc(100vh - 4.266667rem);\n  background-color: #ffffff;\n  border-radius: 0.72rem;\n  overflow: hidden;\n  position: relative;\n}\n.o-warp .o-warp-box .o-bc[data-v-2ac2479e] {\n  width: 100%;\n  height: 1.413333rem;\n  position: absolute;\n  bottom: 0;\n  background-image: url("+h+");\n  background-size: 100% 100%;\n}",""]),e.exports=d},1167:function(e,t,n){e.exports=n.p+"img/project.8b1a1f8.png"},1307:function(e,t,n){"use strict";n.r(t);n(72),n(40),n(59),n(85),n(58),n(86);var r=n(13),o=n(18),c=(n(154),n(47),n(53),n(836)),l=n(87);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var f={name:"AlbumDetail",components:{iMedia2:c.default},props:["iConfigId"],data:function(){return{vReward:[],isLoading:!1,finished:!1,iPageNo:0,iTotal:0,sAlbumName:"",mask:!1,type:"",showRewardShare:!1,options:[{name:"Telegram",icon:n(838)},{name:"Twitter",icon:n(839)},{name:"Wechat",icon:n(840)}]}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(l.c)({nera:function(e){return e.nera}})),watch:{nera:function(e){return e}},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getList();case 2:e.getType();case 3:case"end":return t.stop()}}),t)})))()},methods:{getType:function(){var e=navigator.userAgent.toLowerCase();e.indexOf("applewebkit")>-1&&e.indexOf("mobile")>-1&&e.indexOf("safari")>-1&&-1===e.indexOf("linux")&&-1===e.indexOf("android")&&-1===e.indexOf("chrome")&&-1===e.indexOf("ios")&&-1===e.indexOf("browser")?this.type="safari":(console.log("不是Safari"),this.type="other")},load:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.finished=!1,e.isLoading=!0,t.next=4,e.getList();case 4:case"end":return t.stop()}}),t)})))()},getList:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:data={iPageNo:e.iPageNo,iPageNum:10,iConfigId:+e.$route.params.iConfigId},e.$axios.post("/v1/emall/GetRewardAlbumList",data).then((function(t){e.vReward=e.vReward.concat(t.vAlbumList),e.iPageNo++,e.isLoading=!1,e.iTotal=t.iTotal,e.sAlbumName=t.sAlbumName,e.vReward.length>=e.iTotal&&(e.finished=!0)})).catch((function(e){}));case 2:case"end":return t.stop()}}),t)})))()},handleShareSelect:function(option){var path=encodeURIComponent(window.location);switch(option.name){case"Telegram":window.open("https://telegram.me/share/url?url=".concat(path,"&text=").concat(this.$t("Other5")));break;case"Facebook":window.open("https://www.facebook.com/sharer/sharer.php?u="+path);break;case"Twitter":window.open("https://twitter.com/intent/tweet?url=".concat(path,"&text=").concat(this.$t("Other5")));break;default:this.mask=!0}this.showRewardShare=!1}}},h=(n(1165),n(36)),component=Object(h.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"o-album-detail"}},[r("van-nav-bar",{staticClass:"o-navbar",attrs:{title:e.$t("Album01"),"left-arrow":""},on:{"click-left":function(t){return e.$router.back()}},scopedSlots:e._u([{key:"right",fn:function(){return[r("i",{staticClass:"iconfont icon-share",on:{click:function(t){t.stopPropagation(),e.showRewardShare=!0}}})]},proxy:!0}])}),e._v(" "),r("div",{staticClass:"o-warp"},[r("p",{staticClass:"o-warp-title"},[e._v(e._s(e.sAlbumName))]),e._v(" "),r("div",{staticClass:"o-warp-box"},[e.vReward.length?r("div",{staticClass:"el-reward"},[r("van-list",{attrs:{finished:e.finished,"loading-text":e.$t("Main24"),"finished-text":e.$t("Main25")},on:{load:e.load},model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}},e._l(e.vReward,(function(t,i){return r("div",{staticClass:"e-reward"},[i%2==0?r("div",{staticClass:"e-img-box left"},[e._l(t.vAnswer,(function(n,o){return[r("iMedia2",{staticClass:"e-answer-img",attrs:{url:n.sFileUrl}}),e._v(" "),t.iCreateNFTFlag||n.iCreateNFTFlag?r("p",{staticClass:"o-nft"},[e._v("NFT")]):e._e(),e._v(" "),r("div",{staticClass:"o-answer-user"},[r("o-head",{staticClass:"o-avatar",attrs:{"avatar-url":n.stUser.sAvatar}}),e._v(" "),r("span",[e._v(e._s(n.stUser.sName))])],1)]}))],2):e._e(),e._v(" "),r("div",{staticClass:"e-reward-"},[r("div",{staticClass:"timeline-icon"}),e._v(" "),r("p",{staticClass:"e-create-time"},[i%2==0?r("span",{staticClass:"--line"},[e._v("-------")]):e._e(),e._v("\n                "+e._s(t.sDate)+"\n                "),e._v(" "),i%2!=0?r("span",{staticClass:"--line"},[e._v("-------")]):e._e()]),e._v(" "),r("div",{staticClass:"e--reward-user"},[r("o-head",{staticClass:"o-avatar",attrs:{"avatar-url":t.stUser.sAvatar}}),e._v("\n                "+e._s(t.stUser.sName)+"\n              ")],1),e._v(" "),r("span",{staticClass:"e-nera"},[r("img",{staticClass:"o-nera-img",attrs:{src:n(822),alt:""}}),e._v(e._s(e._f("formatNera")(t.iReward))+"\n                  ($"+e._s(e._f("formatNera")(t.iReward*e.nera))+")\n                ")]),e._v(" "),r("p",{staticClass:"e-subject"},[e._v(" "+e._s(t.sSubject))]),e._v(" "),r("a",{staticClass:"e-more",on:{click:function(n){return e.$router.push("/reward/detail/"+t.iRewardId)}}},[e._v(e._s(e.$t("Mine05")))])]),e._v(" "),i%2!=0?r("div",{staticClass:"e-img-box right"},[e._l(t.vAnswer,(function(n,o){return[r("iMedia2",{staticClass:"e-answer-img",attrs:{url:n.sFileUrl}}),e._v(" "),t.iCreateNFTFlag||n.iCreateNFTFlag?r("p",{staticClass:"o-nft"},[e._v("NFT")]):e._e(),e._v(" "),r("div",{staticClass:"o-answer-user"},[r("o-head",{staticClass:"o-avatar",attrs:{"avatar-url":n.stUser.sAvatar}}),e._v(" "),r("span",[e._v(e._s(n.stUser.sName))])],1)]}))],2):e._e()])})),0)],1):e._e(),e._v(" "),!e.vReward.length&&e.finished?r("div",{staticClass:"el-empty"},[r("img",{staticClass:"e-empty",attrs:{src:n(830),alt:""}}),e._v(" "),r("p",{staticClass:"e-empty-txt"},[e._v(e._s(e.$t("Main25")))])]):e._e(),e._v(" "),r("div",{staticClass:"o-bc"})])]),e._v(" "),r("van-share-sheet",{staticClass:"o-share",attrs:{options:e.options},on:{select:e.handleShareSelect},model:{value:e.showRewardShare,callback:function(t){e.showRewardShare=t},expression:"showRewardShare"}}),e._v(" "),e.mask?r("div",{staticClass:"o-mask"},[r("van-button",{staticClass:"left-back",on:{click:function(t){e.mask=!1}}},[r("i",{staticClass:"fas fa-times"})]),e._v(" "),r("p",{class:["share-text",e.type]},[e._v(e._s(e.$t("Nav11")))]),e._v(" "),r("i",{class:["fas fa-arrow-up",e.type]})],1):e._e()],1)}),[],!1,null,"2ac2479e",null);t.default=component.exports},822:function(e,t,n){e.exports=n.p+"img/nera.21ea076.png"},825:function(e,t,n){var content=n(835);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(52).default)("74460486",content,!0,{sourceMap:!1})},826:function(e,t,n){e.exports=n.p+"img/isMp4.4f07629.png"},827:function(e,t,n){"use strict";var r=n(42),o=n(30),c=n(192),l=n(66),d=n(43),f=n(106),h=n(419),m=n(161),v=n(27),w=n(135),_=n(160).f,y=n(96).f,C=n(65).f,O=n(828).trim,x="Number",P=o.Number,T=P.prototype,N=f(w(T))==x,j=function(e){var t,n,r,o,c,l,d,code,f=m(e,!1);if("string"==typeof f&&f.length>2)if(43===(t=(f=O(f)).charCodeAt(0))||45===t){if(88===(n=f.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(f.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+f}for(l=(c=f.slice(2)).length,d=0;d<l;d++)if((code=c.charCodeAt(d))<48||code>o)return NaN;return parseInt(c,r)}return+f};if(c(x,!P(" 0o1")||!P("0b1")||P("+0x1"))){for(var k,E=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof E&&(N?v((function(){T.valueOf.call(n)})):f(n)!=x)?h(new P(j(t)),n,E):j(t)},S=r?_(P):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),R=0;S.length>R;R++)d(P,k=S[R])&&!d(E,k)&&C(E,k,y(P,k));E.prototype=T,T.constructor=E,l(o,x,E)}},828:function(e,t,n){var r=n(73),o="["+n(829)+"]",c=RegExp("^"+o+o+"*"),l=RegExp(o+o+"*$"),d=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(c,"")),2&e&&(n=n.replace(l,"")),n}};e.exports={start:d(1),end:d(2),trim:d(3)}},829:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},830:function(e,t,n){e.exports=n.p+"img/empty.f6320fb.png"},832:function(e,t,n){e.exports=n.p+"img/music.899c6a2.gif"},833:function(e,t,n){e.exports=n.p+"img/music_static.e8a2f61.png"},834:function(e,t,n){"use strict";n(825)},835:function(e,t,n){var r=n(51)(!1);r.push([e.i,".media[data-v-118a81c7] {\n  width: 100%;\n  height: 100%;\n  border-radius: 0.213333rem;\n  overflow: hidden;\n  position: relative;\n}\n.el-image[data-v-118a81c7] {\n  width: 100%;\n  height: 100%;\n}\n.media-container[data-v-118a81c7] {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n.media-container .media-gif[data-v-118a81c7] {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n.media-container .media-control[data-v-118a81c7] {\n  position: absolute;\n  right: 0;\n  left: 0;\n  bottom: 0.133333rem;\n  color: #FFFFFF;\n  font-size: 0.533333rem;\n  height: 0.533333rem;\n  display: flex;\n  justify-content: center;\n  z-index: 120;\n}\n.media-container .media-control-bar[data-v-118a81c7] {\n  bottom: 0;\n  position: absolute;\n  z-index: 10;\n  height: 0.08rem;\n  left: 0;\n  background-color: #5b90ed;\n}\n[data-v-118a81c7] .el-image__inner {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n.video[data-v-118a81c7] {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\naudio[data-v-118a81c7] {\n  width: 100%;\n}\n.sign[data-v-118a81c7] {\n  position: absolute;\n  top: 0.266667rem;\n  right: 0.266667rem;\n  z-index: 1;\n  font-size: 0.266667rem;\n  text-shadow: 0 0 0.066667rem rgba(9, 1, 4, 0.3);\n  color: #fff;\n}\n.popVideo[data-v-118a81c7] {\n  width: 100%;\n}\n.container[data-v-118a81c7] {\n  width: 100%;\n  height: 100%;\n  background: #f5f5f5;\n}\n.virtual-type-icon[data-v-118a81c7] {\n  position: absolute;\n  top: 0.506667rem;\n  left: 0;\n  padding: 0 0.266667rem 0 0.24rem;\n  height: 0.72rem;\n  border-radius: 0 0.36rem 0.36rem 0;\n  background: rgba(0, 0, 0, 0.36);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.virtual-type-icon img[data-v-118a81c7] {\n  width: 0.453333rem;\n  height: 0.453333rem;\n  margin-right: 0.093333rem;\n}\n.virtual-type-icon span[data-v-118a81c7] {\n  font-size: 0.266667rem;\n  font-family: Noto Sans S Chinese, Noto Sans S Chinese-DemiLight;\n  font-weight: DemiLight;\n  color: #ffffff;\n}\n.virtual-iViews-iFavorite[data-v-118a81c7] {\n  position: absolute;\n  left: 0.306667rem;\n  bottom: 0.426667rem;\n}\n.virtual-iViews-iFavorite span[data-v-118a81c7] {\n  font-size: 0.32rem;\n  font-family: Noto Sans S Chinese, Noto Sans S Chinese-Regular;\n  color: #ffffff;\n  line-height: 0.453333rem;\n}",""]),e.exports=r},836:function(e,t,n){"use strict";n.r(t);n(72),n(40),n(59),n(85),n(58),n(86);var r=n(18),o=(n(47),n(827),n(254),n(154),n(113)),c=n(87);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={components:Object(r.a)({},o.a.Component.name,o.a.Component),props:{url:{type:String,default:function(){return""}},isPopVideo:{type:Boolean,default:function(){return!1}},isPopImg:{type:Boolean,default:function(){return!1}},oImgList:{type:Array,default:function(){return[]}},imgIndex:{type:Number,default:0},collection:{type:Object,default:function(){}}},data:function(){return{dialogVisible:!1,isPlaying:!1,camera:null,scene:null,renderer:null,mush:null,loader:null,mixer:null,controls:null,time:(new Date).getTime(),duration:0,currentTime:0}},computed:d(d({},Object(c.c)({chainObj:function(e){return e.chainObj}})),{},{curChain:function(){return"undefined"!=typeof web3&&this.chainObj&&(this.collection.sChainId||(this.collection.sChainId="0x3"),this.chainObj[this.collection.sChainId])?this.chainObj[this.collection.sChainId]:{}},controlsWidth:function(){return{width:(this.currentTime/this.duration*100).toFixed(2)+"%"}}}),mounted:function(){this.url},watch:{url:function(e,ol){e&&this.$nextTick((function(){}))}},methods:{handleShowPic:function(){this.$router.push({path:"/assets/".concat(this.collection.sContractAddress,"/").concat(this.collection.sTokenId)})},getDuration:function(){this.$refs.player&&(this.duration=this.$refs.player.duration)},updateTime:function(e){this.currentTime=e.target.currentTime},handleOnePlay:function(){this.isPlaying?(this.$refs.player.pause(),this.isPlaying=!1):(this.$refs.player.play(),this.isPlaying=!0)},getType:function(){return/\.(gif|jpg|jpeg|png|GIF|JPEG|JPG|PNG|svg|SVG)$/.test(this.url)?"img":/\.(mp4|webm|wav|ogg|MP4|MOV|WEBM|WAV|OGG)$/.test(this.url)?"video":/\.(mp3|MP3)$/.test(this.url)?"mp3":"3D"},createRect:function(){var e=new THREE.PlaneGeometry(1e3,1e3),t=new THREE.MeshBasicMaterial({color:11184810});return new THREE.Mesh(e,t)},handleClose:function(){this.$refs.popvideo.pause(),this.dialogVisible=!1},playVideo:function(){var e=this;if(!this.isPopVideo)return!1;this.dialogVisible=!0,this.$nextTick((function(){e.$refs.popvideo.currentTime=0,e.$refs.popvideo.play()}))},init:function(){var e=this;if("3D"===this.getType()){var t=document.getElementById("container"+this.time);this.camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.z=5,this.scene=new THREE.Scene;(new GLTFLoader).load(this.url,(function(t){e.scene.add(t.scene)}));var n=new THREE.AmbientLight(4210752,10);this.scene.add(n);var r=new THREE.DirectionalLight(16777215);this.scene.add(r);var o=new THREE.SpotLight(16777215);o.position.set(100,1e3,100),o.castShadow=!0,o.shadow.mapSize.width=1024,o.shadow.mapSize.height=1024,o.shadow.camera.near=500,o.shadow.camera.far=4e3,o.shadow.camera.fov=30,this.scene.add(o),(n=new THREE.PointLight(16711680,1,100)).position.set(50,50,50),this.scene.add(n);window.innerWidth,window.innerHeight;this.renderer=new THREE.WebGLRenderer({antialias:!0}),this.renderer.setSize(t.clientWidth,t.clientHeight),t.appendChild(this.renderer.domElement),this.controls=new OrbitControls(this.camera,this.renderer.domElement)}},render:function(){"3D"===this.getType()&&(requestAnimationFrame(this.render),this.renderer.render(this.scene,this.camera))}}},h=(n(834),n(36)),component=Object(h.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"media"},["img"===e.getType()?r("van-image",{staticClass:"el-image",attrs:{fit:"cover","lazy-load":"",src:e.url},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.handleShowPic.apply(null,arguments)}}}):e._e(),e._v(" "),"video"===e.getType()?r("div",{staticClass:"media-container",on:{click:function(t){return t.stopPropagation(),e.handleOnePlay.apply(null,arguments)}}},[r("img",{directives:[{name:"show",rawName:"v-show",value:!e.isPlaying,expression:"!isPlaying"}],staticClass:"media-gif",attrs:{src:n(826),alt:""}}),e._v(" "),r("video",{directives:[{name:"show",rawName:"v-show",value:e.isPlaying,expression:"isPlaying"}],ref:"player",staticClass:"video",attrs:{loop:"",src:e.url,"webkit-playsinline":"true",playsinline:"true","x5-playsinline":"true",poster:e.url+"?vframe/jpg/offset/1"},on:{click:e.playVideo}})]):e._e(),e._v(" "),"mp3"===e.getType()?r("div",{staticClass:"media-container",on:{click:function(t){return t.stopPropagation(),e.handleOnePlay.apply(null,arguments)}}},[e.isPlaying?r("img",{staticClass:"media-gif",attrs:{src:n(832),alt:""}}):r("img",{staticClass:"media-gif",attrs:{src:n(833),alt:""}}),e._v(" "),r("div",{staticClass:"media-control-bar",style:e.controlsWidth}),e._v(" "),r("audio",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"player",attrs:{controls:"",loop:"",src:e.url},on:{canplay:e.getDuration,timeupdate:e.updateTime}})]):e._e(),e._v(" "),"mp3"===e.getType()?r("van-icon",{staticClass:"sign",attrs:{name:"music-o"}}):e._e(),e._v(" "),"video"===e.getType()?r("van-icon",{staticClass:"sign",attrs:{name:"video-o"}}):e._e(),e._v(" "),r("div",{staticClass:"virtual-type-icon"},[r("img",{attrs:{src:e.curChain.icon,alt:""}}),e._v(" "),r("span",[e._v(e._s(e.curChain.name))])]),e._v(" "),r("div",{staticClass:"virtual-iViews-iFavorite"},[r("span",[e._v(e._s(e.$t("bridge_34"))+" "+e._s(e.collection.iViews))]),e._v("  \n      "),r("span",[e._v(e._s(e.$t("bridge_38"))+" "+e._s(e.collection.iFavorite))])])],1)}),[],!1,null,"118a81c7",null);t.default=component.exports},838:function(e,t,n){e.exports=n.p+"img/tg.f50d1fe.png"},839:function(e,t,n){e.exports=n.p+"img/twi.1f95d97.png"},840:function(e,t,n){e.exports=n.p+"img/wx.e134823.png"},928:function(e,t,n){e.exports=n.p+"img/bottom.7a53353.png"},998:function(e,t,n){var content=n(1166);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(52).default)("109c0c96",content,!0,{sourceMap:!1})}}]);