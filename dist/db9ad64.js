(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{429:function(e,t,n){var content=n(504);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(35).default)("d19eeb9a",content,!0,{sourceMap:!1})},503:function(e,t,n){"use strict";n(429)},504:function(e,t,n){var o=n(34)(!1);o.push([e.i,".o-uploader[data-v-e48353de] {\n  width: 3.066667rem;\n  height: 3.066667rem;\n  margin: 0 auto;\n  margin-bottom: 0.266667rem;\n  position: relative;\n}\n.o-uploader[data-v-e48353de] .van-uploader__preview {\n  margin: 0;\n}\n.o-uploader[data-v-e48353de] .van-uploader__preview .van-uploader__preview-delete {\n  border-radius: 0 0.133333rem 0 0.32rem;\n}\n.o-uploader .o-delete[data-v-e48353de] {\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 0.506667rem;\n  height: 0.453333rem;\n  background: #c7c7c7;\n  line-height: 0.453333rem;\n  border-radius: 0 0 0 50%;\n  z-index: 999;\n}\n.o-uploader .img[data-v-e48353de],\n.o-uploader #o-video[data-v-e48353de] {\n  width: 3.066667rem;\n  height: 3.066667rem;\n  object-fit: cover;\n}\n.o-uploader .o-uploader-upload[data-v-e48353de],\n.o-uploader[data-v-e48353de] .van-uploader__preview-image {\n  width: 3.066667rem;\n  height: 3.066667rem;\n  background: #ffffff;\n  border-radius: 0.133333rem;\n  box-shadow: 0 0 0.2rem 0 rgba(5, 0, 0, 0.15);\n  text-align: center;\n  margin-bottom: 0.666667rem;\n}\n.o-uploader .o-uploader-upload .icon-image[data-v-e48353de],\n.o-uploader[data-v-e48353de] .van-uploader__preview-image .icon-image {\n  font-size: 2.133333rem;\n  line-height: 3.066667rem;\n  color: #E7E7E7;\n}",""]),e.exports=o},548:function(e,t,n){"use strict";n.r(t);n(43),n(31),n(37),n(55),n(36),n(56);var o=n(11),r=n(23),l=(n(54),n(24),n(57));function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={name:"Answer",data:function(){return{fileList:[],showNFT:!1,iRewardShow:!1,NeraList:[50,100,200,500,1e3],oAnswer:{}}},components:{ONeraKeyboard:n(215).default},computed:d(d({},Object(l.c)({step:function(e){return e.reward.step},nera:function(e){return e.nera}})),{},{disabledStep2:function(){var e=this.oAnswer,t=e.sTitleName,n=e.iCreateNFTFlag,o=e.iPrice;return!t||n&&!o}}),watch:{step:function(e){return e},nera:function(e){return e}},mounted:function(){this.$store.commit("reward/SET_STEP",0)},methods:{asyncValidator:function(e,t){var n=this;return new Promise(function(){var r=Object(o.a)(regeneratorRuntime.mark((function o(r){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:(e<1||e>1e4)&&(t.message=n.$t("Main42"),r(!1)),r(!0);case 2:case"end":return o.stop()}}),o)})));return function(e){return r.apply(this,arguments)}}())},handleStep:function(){this.$store.commit("reward/SET_STEP",1)},handleChange:function(e){e&&(this.showNFT=e)},handleSubmit:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:data=d(d({},e.oAnswer),{},{iRewardId:+e.$route.query.iRewardId,iCreateNFTFlag:e.oAnswer.iCreateNFTFlag?1:0}),e.$axios.post("/v1/emall/CreateRewardsAnswer",data).then((function(t){e.$toast(e.$t("Tip02")),e.$router.go(-1),console.log(t)})).catch((function(e){})).finally((function(){e.$store.commit("reward/SET_STEP",0),e.$store.dispatch("UPDATE_USERINFO")}));case 2:case"end":return t.stop()}}),t)})))()},afterRead:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,data,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.file,(data=new FormData).append("file",o),n.next=5,t.$axios.post("/v1/oss/PublicUpload",data);case 5:(r=n.sent).vUrlPath.length&&t.$set(t.oAnswer,"sFileUrl",r.vUrlPath[0]);case 7:case"end":return n.stop()}}),n)})))()},handleRemove:function(){this.fileList=[],this.$set(this.oAnswer,"sFileUrl","")},handleDelete:function(e){return this.$set(this.oAnswer,"sFileUrl",""),!0},onOversize:function(e){this.$toast(this.$t("Tip04"))},onClose:function(e){this.$refs.oForm.validate("iPrice")},onInput:function(e){var t=this.oAnswer.iPrice||"";if(""===(t+="")&&"."===e)t="0";else{if(-1!==t.indexOf(".")&&"."===e)return;if(-1!==t.indexOf("0")&&1===t.length&&0===e)return;if(/\.\d{2}$/.test(t))return}t+=e,this.$set(this.oAnswer,"iPrice",t)},onDelete:function(){var e=this.oAnswer.iPrice||"";e&&(e=e.substring(0,e.length-1),this.$set(this.oAnswer,"iPrice",e))},handlePlay:function(){document.getElementById("o-video").play()}}},v=(n(503),n(22)),component=Object(v.a)(f,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"r-offer"}},[o("div",{staticClass:"o-offer-bbox"},[o("div",{staticClass:"o-offer-box"},[o("div",{staticClass:"o-offer-title"},[o("span",[e._v(e._s(e.$t("Main02")))])]),e._v(" "),o("van-form",{ref:"oForm",staticClass:"o-offer-content o-form",on:{submit:e.handleSubmit}},[0===e.step?o("div",{staticClass:"o-form-item center"},[e.fileList.length?o("div",{staticClass:"o-uploader"},[e._l(e.fileList,(function(t){return[o("div",{staticClass:"o-delete",on:{click:e.handleRemove}},[o("i",{staticClass:"fas fa-times"})]),e._v(" "),t.content.includes("image")?o("img",{staticClass:"img",attrs:{src:t.content,alt:""}}):e._e(),e._v(" "),t.content.includes("video")?o("video",{attrs:{id:"o-video",src:t.content,muted:""},domProps:{muted:!0},on:{click:e.handlePlay}}):e._e()]}))],2):o("van-uploader",{staticClass:"o-uploader",attrs:{accept:"image/*,video/*,.webm","max-count":1,"max-size":104857600,"after-read":e.afterRead,"before-delete":e.handleDelete},on:{oversize:e.onOversize},model:{value:e.fileList,callback:function(t){e.fileList=t},expression:"fileList"}},[o("div",{staticClass:"o-uploader-upload"},[o("i",{staticClass:"iconfont icon-image"})])]),e._v(" "),o("p",{staticClass:"o-form-item-label uploader"},[e._v(e._s(e.$t("Main03")))]),e._v(" "),o("p",{staticClass:"o-form-item-des uploader"},[e._v(e._s(e.$t("Main04")))])],1):e._e(),e._v(" "),1===e.step?[o("div",{staticClass:"o-form-item"},[o("p",{staticClass:"o-form-item-label"},[e._v(e._s(e.$t("Main05")))]),e._v(" "),o("van-field",{staticClass:"o-form-field",attrs:{type:"textarea",autosize:"",autosize:{minHeight:20,maxHeight:160},"show-word-limit":"",maxlength:"50"},model:{value:e.oAnswer.sTitleName,callback:function(t){e.$set(e.oAnswer,"sTitleName",t)},expression:"oAnswer.sTitleName"}})],1),e._v(" "),o("div",{staticClass:"o-form-item flex",staticStyle:{"margin-bottom":".13rem"}},[o("p",{staticClass:"o-form-item-label clear nft"},[e._v(e._s(e.$t("Main18")))]),e._v(" "),o("p",{staticClass:"o-form-item-icon",on:{click:function(t){e.showNFT=!0}}},[o("i",{staticClass:"far fa-question-circle"})]),e._v(" "),o("van-switch",{staticClass:"o-form-switch",attrs:{size:"0.53333rem"},on:{change:e.handleChange},model:{value:e.oAnswer.iCreateNFTFlag,callback:function(t){e.$set(e.oAnswer,"iCreateNFTFlag",t)},expression:"oAnswer.iCreateNFTFlag"}})],1),e._v(" "),e.oAnswer.iCreateNFTFlag?o("div",{staticClass:"o-form-item"},[o("van-field",{staticClass:"o-form-choice border",attrs:{"is-link":"",readonly:"",name:"iPrice",rules:[{required:!0,validator:e.asyncValidator}],placeholder:e.$t("Main08")},nativeOn:{touchstart:function(t){t.stopPropagation(),e.iRewardShow=!0}},model:{value:e.oAnswer.iPrice,callback:function(t){e.$set(e.oAnswer,"iPrice",t)},expression:"oAnswer.iPrice"}}),e._v(" "),o("p",{staticClass:"o-form-des"},[e._v(e._s(e.$t("Main26")))]),e._v(" "),o("van-number-keyboard",{attrs:{theme:"custom","get-container":"body","extra-key":["00","."],show:e.iRewardShow,"close-button-text":e.$t("Main44")},on:{blur:function(t){e.iRewardShow=!1},close:e.onClose,input:e.onInput,delete:e.onDelete},scopedSlots:e._u([{key:"title-left",fn:function(){return[e.oAnswer.iPrice?o("span",[e._v(e._s(e._f("formatNera")(e.oAnswer.iPrice))+"Nera ($"+e._s(e._f("formatNera")(e.oAnswer.iPrice*e.nera))+")")]):e._e()]},proxy:!0}],null,!1,58773746)})],1):e._e()]:e._e(),e._v(" "),o("div",{staticClass:"o-offer-submit"},[0===e.step?o("van-button",{staticClass:"o-btn-submit",attrs:{disabled:!e.oAnswer.sFileUrl},on:{click:e.handleStep}},[e._v(e._s(e.$t("Main17"))+"\n            ")]):e._e(),e._v(" "),1===e.step?o("van-button",{staticClass:"o-btn-submit",attrs:{disabled:e.disabledStep2,"native-type":"submit"}},[e._v(e._s(e.$t("Main07"))+"\n            ")]):e._e()],1)],2)],1)]),e._v(" "),o("van-popup",{staticClass:"o-create-nft-pop",model:{value:e.showNFT,callback:function(t){e.showNFT=t},expression:"showNFT"}},[o("div",{staticClass:"o-pop-box"},[o("div",{staticClass:"o-nft-box"},[o("p",{staticClass:"o-show-title"},[e._v(e._s(e.$t("Billboard26")))]),e._v(" "),o("div",{staticClass:"o-nft"},[o("div",{staticClass:"o-image"},[o("p",{staticClass:"o-image-title"},[e._v(e._s(e.$t("Billboard29")))])]),e._v(" "),o("div",{staticClass:"o-ul"},[o("div",{staticClass:"o-li"},[o("p",[e._v(e._s(e.$t("Billboard24")))]),e._v(" "),o("div",{staticClass:"o-li-r"},[o("p",{staticClass:"o-li-prise"},[e._v(e._s(e.$t("Billboard25")))]),e._v(" "),o("img",{staticClass:"o-li-nera",attrs:{src:n(223),alt:""}}),e._v("\n                  1k\n                ")])]),e._v(" "),o("div",{staticClass:"o-li"},[o("div",{staticClass:"o-li-r"},[o("img",{staticClass:"o-erax",attrs:{src:n(227),alt:""}}),e._v(" "),o("span",{staticClass:"o-title"},[e._v("ERAX Official")])]),e._v(" "),o("p",[e._v("$100.00")])])])])]),e._v(" "),o("div",{staticClass:"o-popup-content"},[o("p",[e._v(e._s(e.$t("Main19")))]),e._v(" "),o("div",{staticClass:"o-btn"},[o("van-button",{staticClass:"o-btn-yes",on:{click:function(t){t.stopPropagation(),e.showNFT=!1}}},[e._v(e._s(e.$t("Billboard14")))])],1)])])])],1)}),[],!1,null,"e48353de",null);t.default=component.exports}}]);