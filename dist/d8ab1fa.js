(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1081:function(t,e,n){"use strict";n.r(e);n(64),n(41),n(55),n(80),n(54),n(81);var r=n(816),o=n(14),c=n(33),l=(n(146),n(53),n(74),n(152),n(58),n(29),n(45),n(65),n(42),n(66),n(67),n(46),n(98));function d(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var m={props:{dataInfo:{type:Object,default:function(){}}},mounted:function(){},methods:{getDesc:function(){return 502===this.dataInfo.iType?"Message05":503===this.dataInfo.iType||504===this.dataInfo.iType?"Message19":"Message04"},getAttrByName:function(t){"img"===t&&(t=503===this.dataInfo.iType||504===this.dataInfo.iType?"NFTUrl":"answerFileUrl"),"rewardSubject"===t&&(503!==this.dataInfo.iType&&504!==this.dataInfo.iType||(t="rewardTitle"));var e=this.calcAttr()[t];return"time"==t&&(e=Object(l.e)(parseFloat(e))),"answerFileUrl"==t&&/\.(mp4|webm|wav|ogg|MP4|MOV|WEBM|WAV|OGG)$/.test(e)&&(e="/img/isMp4.png"),e},calcAttr:function(){var t,e={},n=d(this.dataInfo.sContent.split("&"));try{for(n.s();!(t=n.n()).done;){var r=t.value.split("=");e[r[0]]=r[1]}}catch(t){n.e(t)}finally{n.f()}return e},toDetail:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.post("v1/udc/ReadUserMail",{vIdList:[t.dataInfo.iId]});case 2:t.dataInfo.iStatus=1,t.$router.push("/reward/detail/"+t.getAttrByName("rewardId"));case 4:case"end":return e.stop()}}),e)})))()}}},v=(n(989),n(32)),h=Object(v.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"answer-item",on:{click:t.toDetail}},[n("div",{staticClass:"top"},[n("div",{staticClass:"left"},[n("img",{attrs:{src:t.getAttrByName("avatar"),alt:""}}),t._v(" "),n("div",{staticClass:"name van-ellipsis"},[t._v(t._s(t.getAttrByName("nickName")))]),t._v(" "),t.dataInfo.iStatus?t._e():n("div",{staticClass:"dot"})]),t._v(" "),n("div",{staticClass:"right"},[t._v(t._s(t.getAttrByName("time")))])]),t._v(" "),n("div",{staticClass:"desc"},[t._v(t._s(t.$t(t.getDesc())))]),t._v(" "),n("div",{staticClass:"info"},[n("img",{attrs:{src:t.getAttrByName("img"),alt:""}}),t._v(" "),n("span",{staticClass:"txt line3hidden"},[t._v(t._s(t.getAttrByName("rewardSubject")))])])])}),[],!1,null,"a17209b4",null).exports;function y(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var _={props:{dataInfo:{type:Object,default:function(){}}},data:function(){return{txtColor:"#6A47FE",title:"Message15",icon:"",signDesc:""}},computed:{time:function(){var t=new Date,e=new Date(this.dataInfo.iCreateTime);return t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()?Object(l.e)(e,"hh:MM:ss"):Object(l.e)(e,"yyyy-MM-dd")}},methods:{getAttrByName:function(t){var e=this.calcAttr()[t];if("time"==t&&(e=Object(l.e)(parseFloat(e))),"amount"==t){var n="";(e=parseFloat(e))>0?(this.txtColor="#FF2424",n="+"):this.txtColor="#6A47FE",602===this.dataInfo.iType&&(this.signDesc="Message22",e=Math.abs(e),n=""),601===this.dataInfo.iType&&(this.signDesc="Message23",e=Math.abs(e),n=""),e=n+e}return e},calcAttr:function(){var t,e={},n=y(this.dataInfo.sContent.split("&"));try{for(n.s();!(t=n.n()).done;){var r=t.value.split("=");e[r[0]]=r[1]}}catch(t){n.e(t)}finally{n.f()}return e},getTitle:function(){switch(this.dataInfo.iType){case 604:this.title="Message10",this.icon=n(879);break;case 603:this.title="Message09",this.icon=n(880);break;case 605:this.title="Message11",this.icon=n(881);break;case 607:this.title="Message12",this.icon=n(882);break;case 606:this.title="Message13",this.icon=n(883);break;case 608:this.title="Message14",this.icon=n(884);break;case 609:this.title="Message17",this.icon=n(885);break;case 610:this.title="Message18",this.icon=n(886);break;case 611:this.title="Message15",this.icon=n(863);break;case 612:this.title="Message16",this.icon=n(864);break;case 601:this.title="Message07",this.icon=n(887);break;case 602:this.title="Message08",this.icon=n(888)}return this.title}}},x=(n(991),Object(v.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"message-capital-item"},[n("div",{staticClass:"container"},[n("div",{staticClass:"left"},[n("img",{attrs:{src:t.icon,alt:""}}),t._v(" "),n("div",[n("div",{staticClass:"title"},[t._v(t._s(t.$t(t.getTitle())))]),t._v(" "),n("div",{staticClass:"time"},[t._v(t._s(t.time))])])]),t._v(" "),n("div",{staticClass:"right"},[n("span",[t._v(t._s(t.$t(t.signDesc)))]),n("span",{staticClass:"money",style:{color:t.txtColor}},[t._v(t._s(t.getAttrByName("amount")))]),t._v("NERA\n    ")])])])}),[],!1,null,"9163e1a4",null).exports),C=n(82);function M(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var A={layout:"with-head",name:"message",components:{AnswerItem:h,MessageCapitalItem:x},data:function(){return{empty:!1,active:0,loading:!1,finished:!1,iPageNo:0,iPageSize:20,list:[],list2:[]}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?M(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):M(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(C.c)({iRewardCount:function(t){return t.iRewardCount},iTrendCount:function(t){return t.iTrendCount}})),watch:{active:function(){this.loading=!0,"0"==this.active?(this.iPageNo=0,this.list=[],this.finished=!1,this.updateList()):(this.iPageNo=0,this.list2=[],this.finished=!1,this.readUserAllRewardMail(2),this.updateList())}},mounted:function(){window.addEventListener("MESSAGE-READ",this.onMessageRead)},beforeDestroy:function(){window.removeEventListener("MESSAGE-READ",this.onMessageRead)},methods:{readUserAllRewardMail:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$axios.post("/v1/udc/ReadUserAllRewardMail",{iType:t});case 2:2==t&&e.$store.commit("CHANGE_DATA",{key:"iTrendCount",val:0}),0==t&&(e.$store.commit("CHANGE_DATA",{key:"iTrendCount",val:0}),e.$store.commit("CHANGE_DATA",{key:"iRewardCount",val:0}));case 4:case"end":return n.stop()}}),n)})))()},getUserRewardMailList:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.post("v1/udc/GetUserRewardMailUnreadCount",{});case 2:n=e.sent,r=n.iRewardCount,o=n.iTrendCount,t.$store.commit("CHANGE_DATA",{key:"iRewardCount",val:r}),t.$store.commit("CHANGE_DATA",{key:"iTrendCount",val:o}),t.updateList();case 8:case"end":return e.stop()}}),e)})))()},updateList:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(data={},0!==t.active){e.next=8;break}return e.next=4,t.$axios.post("/v1/udc/GetUserRewardMailList",{iType:1,iPageNo:t.iPageNo,iPageSize:t.iPageSize});case 4:data=e.sent,t.list=[].concat(Object(r.a)(t.list),Object(r.a)(data.vMail)),e.next=12;break;case 8:return e.next=10,t.$axios.post("/v1/udc/GetUserRewardMailList",{iType:2,iPageNo:t.iPageNo,iPageSize:t.iPageSize});case 10:data=e.sent,t.list2=[].concat(Object(r.a)(t.list2),Object(r.a)(data.vMail));case 12:data.vMail.length<t.iPageSize&&(t.finished=!0),t.iPageNo++,t.loading=!1;case 15:case"end":return e.stop()}}),e)})))()},onMessageRead:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Roger that！"),t.readUserAllRewardMail(0);case 2:case"end":return e.stop()}}),e)})))()},onLoad:function(){this.finished||this.updateList()}}},j=(n(993),Object(v.a)(A,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"message"},[r("van-tabs",{attrs:{border:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[r("van-tab",{attrs:{title:t.$t("Message02"),badge:t.iRewardCount,max:"99"}},[t.list.length?t._e():r("div",{staticClass:"empty"},[r("img",{attrs:{src:n(814),alt:""}}),t._v(" "),r("div",[t._v(t._s(t.$t("Message06"))+"\n          "),r("span",{staticClass:"link",on:{click:function(e){return t.$router.push("/billboard/recommend")}}},[t._v(t._s(t.$t("Message20")))])])]),t._v(" "),r("van-list",{attrs:{finished:t.finished,"finished-text":" "},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(t,e){return r("van-cell",{key:e,staticClass:"item"},[r("answer-item",{attrs:{dataInfo:t}})],1)})),1)],1),t._v(" "),r("van-tab",{attrs:{title:t.$t("Message03"),badge:t.iTrendCount,max:"99"}},[t.list2.length?t._e():r("div",{staticClass:"empty"},[r("img",{attrs:{src:n(814),alt:""}}),t._v(" "),r("div",[t._v(t._s(t.$t("Message21")))])]),t._v(" "),r("van-list",{attrs:{finished:t.finished,"finished-text":" "},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list2,(function(t,e){return r("van-cell",{key:e,staticClass:"item"},[r("message-capital-item",{attrs:{dataInfo:t}})],1)})),1)],1)],1)],1)}),[],!1,null,"e4ad50d2",null));e.default=j.exports},814:function(t,e,n){t.exports=n.p+"img/empty.f6320fb.png"},816:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(187);var o=n(247);function c(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Object(o.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},863:function(t,e,n){t.exports=n.p+"img/finance1.ae76dfd.png"},864:function(t,e,n){t.exports=n.p+"img/finance2.73e5eb3.png"},879:function(t,e,n){t.exports=n.p+"img/sign2.67c106d.png"},880:function(t,e,n){t.exports=n.p+"img/sign3.28de11e.png"},881:function(t,e,n){t.exports=n.p+"img/sign10.e230b27.png"},882:function(t,e,n){t.exports=n.p+"img/sign5.7071d8c.png"},883:function(t,e,n){t.exports=n.p+"img/sign6.97fa436.png"},884:function(t,e,n){t.exports=n.p+"img/sign7.cb72f65.png"},885:function(t,e,n){t.exports=n.p+"img/sign8.f1b821f.png"},886:function(t,e,n){t.exports=n.p+"img/sign9.1a48dde.png"},887:function(t,e,n){t.exports=n.p+"img/sign1.1c57d96.png"},888:function(t,e,n){t.exports=n.p+"img/sign4.79f8055.png"},906:function(t,e,n){var content=n(990);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(52).default)("0981e3b9",content,!0,{sourceMap:!1})},907:function(t,e,n){var content=n(992);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(52).default)("869ad516",content,!0,{sourceMap:!1})},908:function(t,e,n){var content=n(994);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(52).default)("95f076b6",content,!0,{sourceMap:!1})},989:function(t,e,n){"use strict";n(906)},990:function(t,e,n){var r=n(51)(!1);r.push([t.i,".answer-item[data-v-a17209b4] {\n  width: 10rem;\n  background: #ffffff;\n  padding: 0.48rem 0.533333rem;\n  margin-bottom: 0.266667rem;\n}\n.answer-item .top[data-v-a17209b4] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.answer-item .top .left[data-v-a17209b4] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n}\n.answer-item .top .left img[data-v-a17209b4] {\n  width: 0.8rem;\n  height: 0.8rem;\n  border-radius: 50%;\n  margin-right: 0.266667rem;\n  object-fit: cover;\n}\n.answer-item .top .left .dot[data-v-a17209b4] {\n  width: 0.16rem;\n  height: 0.16rem;\n  background: #ff7b7b;\n  border-radius: 50%;\n  position: absolute;\n  top: 0.08rem;\n  left: 0.666667rem;\n}\n.answer-item .top .left .name[data-v-a17209b4] {\n  width: 3.466667rem;\n  font-size: 0.48rem;\n  font-weight: 400;\n  color: #1b1b1b;\n}\n.answer-item .top .right[data-v-a17209b4] {\n  font-size: 0.373333rem;\n  font-weight: 400;\n  color: #979797;\n}\n.answer-item .desc[data-v-a17209b4] {\n  margin-top: 0.48rem;\n  margin-bottom: 0.32rem;\n  font-size: 0.4rem;\n  font-weight: 400;\n  color: #1b1b1b;\n}\n.answer-item .info[data-v-a17209b4] {\n  background: #f9f9f9;\n  border-radius: 0.253333rem;\n  display: flex;\n  padding: 0.266667rem;\n  align-items: center;\n}\n.answer-item .info img[data-v-a17209b4] {\n  width: 1.733333rem;\n  min-width: 1.733333rem;\n  height: 1.733333rem;\n  background: rgba(0, 0, 0, 0);\n  border-radius: 0.133333rem;\n  object-fit: cover;\n}\n.answer-item .info .txt[data-v-a17209b4] {\n  font-size: 0.4rem;\n  font-weight: 400;\n  color: #606060;\n  margin-left: 0.4rem;\n}",""]),t.exports=r},991:function(t,e,n){"use strict";n(907)},992:function(t,e,n){var r=n(51)(!1);r.push([t.i,".message-capital-item[data-v-9163e1a4] {\n  width: 10rem;\n  background: #ffffff;\n  padding: 0.666667rem 0.533333rem 0;\n}\n.message-capital-item .container[data-v-9163e1a4] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-bottom: 0.666667rem;\n  border-bottom: 0.013333rem solid #e5e5e5;\n}\n.message-capital-item .container .left[data-v-9163e1a4] {\n  display: flex;\n  align-items: center;\n}\n.message-capital-item .container .left img[data-v-9163e1a4] {\n  width: 1.066667rem;\n  height: 1.066667rem;\n  margin-right: 0.2rem;\n  object-fit: cover;\n}\n.message-capital-item .container .left .title[data-v-9163e1a4] {\n  font-size: 0.453333rem;\n  font-family: PingFang SC, PingFang SC-Medium;\n  font-weight: 500;\n  color: #1b1b1b;\n  text-align: left;\n}\n.message-capital-item .container .left .time[data-v-9163e1a4] {\n  font-size: 0.373333rem;\n  font-family: PingFang SC, PingFang SC-Medium;\n  font-weight: 500;\n  color: #979797;\n  text-align: left;\n}\n.message-capital-item .container .right[data-v-9163e1a4] {\n  font-size: 0.4rem;\n  font-family: PingFang SC, PingFang SC-Regular;\n  font-weight: 400;\n  color: #1b1b1b;\n}",""]),t.exports=r},993:function(t,e,n){"use strict";n(908)},994:function(t,e,n){var r=n(51)(!1);r.push([t.i,".message[data-v-e4ad50d2] {\n  background: #F9F9F9;\n}\n.message .empty[data-v-e4ad50d2] {\n  text-align: center;\n  padding-top: 1.6rem;\n  background: #ffffff;\n}\n.message .empty img[data-v-e4ad50d2] {\n  width: 4.933333rem;\n  height: 4.933333rem;\n}\n.message .empty div[data-v-e4ad50d2] {\n  font-size: 0.4rem;\n  font-family: PingFang SC, PingFang SC-Regular;\n  font-weight: 400;\n  color: #d2d2d2;\n}\n.message .empty .link[data-v-e4ad50d2] {\n  color: #C99FFF;\n  text-decoration: underline;\n}\n.van-cell[data-v-e4ad50d2] {\n  padding: 0 !important;\n}\n[data-v-e4ad50d2] .van-tabs__content {\n  margin-top: 0.48rem;\n  background: #F9F9F9;\n}\n[data-v-e4ad50d2] .van-tabs__wrap {\n  height: 1.92rem;\n}\n[data-v-e4ad50d2] .van-tab {\n  font-size: 0.48rem;\n  font-family: PingFang SC, PingFang SC-Bold;\n  font-weight: 700;\n  color: #606060;\n}\n[data-v-e4ad50d2] .van-tab .van-info {\n  right: -0.4rem;\n  font-size: 0.333333rem;\n  font-family: SourceHanSansCN-Regular;\n  color: #ffffff;\n  padding: 0 0.213333rem;\n  background: #FF7B7B;\n}\n[data-v-e4ad50d2] .van-tab--active {\n  color: #6A47FE !important;\n}\n[data-v-e4ad50d2] .van-tabs__line {\n  background: #6A47FE;\n  height: 0.066667rem;\n  width: 1.72rem;\n}",""]),t.exports=r}}]);