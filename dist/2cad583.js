(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{826:function(e,t,n){var content=n(835);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(52).default)("74460486",content,!0,{sourceMap:!1})},829:function(e,t,n){e.exports=n.p+"img/isMp4.4f07629.png"},832:function(e,t,n){e.exports=n.p+"img/music.899c6a2.gif"},833:function(e,t,n){e.exports=n.p+"img/music_static.e8a2f61.png"},834:function(e,t,n){"use strict";n(826)},835:function(e,t,n){var r=n(51)(!1);r.push([e.i,".media[data-v-118a81c7] {\n  width: 100%;\n  height: 100%;\n  border-radius: 0.213333rem;\n  overflow: hidden;\n  position: relative;\n}\n.el-image[data-v-118a81c7] {\n  width: 100%;\n  height: 100%;\n}\n.media-container[data-v-118a81c7] {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n.media-container .media-gif[data-v-118a81c7] {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n.media-container .media-control[data-v-118a81c7] {\n  position: absolute;\n  right: 0;\n  left: 0;\n  bottom: 0.133333rem;\n  color: #FFFFFF;\n  font-size: 0.533333rem;\n  height: 0.533333rem;\n  display: flex;\n  justify-content: center;\n  z-index: 120;\n}\n.media-container .media-control-bar[data-v-118a81c7] {\n  bottom: 0;\n  position: absolute;\n  z-index: 10;\n  height: 0.08rem;\n  left: 0;\n  background-color: #5b90ed;\n}\n[data-v-118a81c7] .el-image__inner {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n.video[data-v-118a81c7] {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\naudio[data-v-118a81c7] {\n  width: 100%;\n}\n.sign[data-v-118a81c7] {\n  position: absolute;\n  top: 0.266667rem;\n  right: 0.266667rem;\n  z-index: 1;\n  font-size: 0.266667rem;\n  text-shadow: 0 0 0.066667rem rgba(9, 1, 4, 0.3);\n  color: #fff;\n}\n.popVideo[data-v-118a81c7] {\n  width: 100%;\n}\n.container[data-v-118a81c7] {\n  width: 100%;\n  height: 100%;\n  background: #f5f5f5;\n}\n.virtual-type-icon[data-v-118a81c7] {\n  position: absolute;\n  top: 0.506667rem;\n  left: 0;\n  padding: 0 0.266667rem 0 0.24rem;\n  height: 0.72rem;\n  border-radius: 0 0.36rem 0.36rem 0;\n  background: rgba(0, 0, 0, 0.36);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.virtual-type-icon img[data-v-118a81c7] {\n  width: 0.453333rem;\n  height: 0.453333rem;\n  margin-right: 0.093333rem;\n}\n.virtual-type-icon span[data-v-118a81c7] {\n  font-size: 0.266667rem;\n  font-family: Noto Sans S Chinese, Noto Sans S Chinese-DemiLight;\n  font-weight: DemiLight;\n  color: #ffffff;\n}\n.virtual-iViews-iFavorite[data-v-118a81c7] {\n  position: absolute;\n  left: 0.306667rem;\n  bottom: 0.426667rem;\n}\n.virtual-iViews-iFavorite span[data-v-118a81c7] {\n  font-size: 0.32rem;\n  font-family: Noto Sans S Chinese, Noto Sans S Chinese-Regular;\n  color: #ffffff;\n  line-height: 0.453333rem;\n}",""]),e.exports=r},851:function(e,t,n){"use strict";n.r(t);n(73),n(42),n(61),n(85),n(60),n(86);var r=n(18),o=(n(47),n(418),n(254),n(155),n(112)),c=n(87);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var h={components:Object(r.a)({},o.a.Component.name,o.a.Component),props:{url:{type:String,default:function(){return""}},isPopVideo:{type:Boolean,default:function(){return!1}},isPopImg:{type:Boolean,default:function(){return!1}},oImgList:{type:Array,default:function(){return[]}},imgIndex:{type:Number,default:0},collection:{type:Object,default:function(){}}},data:function(){return{dialogVisible:!1,isPlaying:!1,camera:null,scene:null,renderer:null,mush:null,loader:null,mixer:null,controls:null,time:(new Date).getTime(),duration:0,currentTime:0}},computed:d(d({},Object(c.c)({chainObj:function(e){return e.chainObj}})),{},{curChain:function(){return"undefined"!=typeof web3&&this.chainObj&&(this.collection.sChainId||(this.collection.sChainId="0x3"),this.chainObj[this.collection.sChainId])?this.chainObj[this.collection.sChainId]:{}},controlsWidth:function(){return{width:(this.currentTime/this.duration*100).toFixed(2)+"%"}}}),mounted:function(){this.url},watch:{url:function(e,ol){e&&this.$nextTick((function(){}))}},methods:{handleShowPic:function(){this.$router.push({path:"/assets/".concat(this.collection.sContractAddress,"/").concat(this.collection.sTokenId)})},getDuration:function(){this.$refs.player&&(this.duration=this.$refs.player.duration)},updateTime:function(e){this.currentTime=e.target.currentTime},handleOnePlay:function(){this.isPlaying?(this.$refs.player.pause(),this.isPlaying=!1):(this.$refs.player.play(),this.isPlaying=!0)},getType:function(){return/\.(gif|jpg|jpeg|png|GIF|JPEG|JPG|PNG|svg|SVG)$/.test(this.url)?"img":/\.(mp4|webm|wav|ogg|MP4|MOV|WEBM|WAV|OGG)$/.test(this.url)?"video":/\.(mp3|MP3)$/.test(this.url)?"mp3":"3D"},createRect:function(){var e=new THREE.PlaneGeometry(1e3,1e3),t=new THREE.MeshBasicMaterial({color:11184810});return new THREE.Mesh(e,t)},handleClose:function(){this.$refs.popvideo.pause(),this.dialogVisible=!1},playVideo:function(){var e=this;if(!this.isPopVideo)return!1;this.dialogVisible=!0,this.$nextTick((function(){e.$refs.popvideo.currentTime=0,e.$refs.popvideo.play()}))},init:function(){var e=this;if("3D"===this.getType()){var t=document.getElementById("container"+this.time);this.camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.z=5,this.scene=new THREE.Scene;(new GLTFLoader).load(this.url,(function(t){e.scene.add(t.scene)}));var n=new THREE.AmbientLight(4210752,10);this.scene.add(n);var r=new THREE.DirectionalLight(16777215);this.scene.add(r);var o=new THREE.SpotLight(16777215);o.position.set(100,1e3,100),o.castShadow=!0,o.shadow.mapSize.width=1024,o.shadow.mapSize.height=1024,o.shadow.camera.near=500,o.shadow.camera.far=4e3,o.shadow.camera.fov=30,this.scene.add(o),(n=new THREE.PointLight(16711680,1,100)).position.set(50,50,50),this.scene.add(n);window.innerWidth,window.innerHeight;this.renderer=new THREE.WebGLRenderer({antialias:!0}),this.renderer.setSize(t.clientWidth,t.clientHeight),t.appendChild(this.renderer.domElement),this.controls=new OrbitControls(this.camera,this.renderer.domElement)}},render:function(){"3D"===this.getType()&&(requestAnimationFrame(this.render),this.renderer.render(this.scene,this.camera))}}},m=(n(834),n(36)),component=Object(m.a)(h,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"media"},["img"===e.getType()?r("van-image",{staticClass:"el-image",attrs:{fit:"cover","lazy-load":"",src:e.url},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.handleShowPic.apply(null,arguments)}}}):e._e(),e._v(" "),"video"===e.getType()?r("div",{staticClass:"media-container",on:{click:function(t){return t.stopPropagation(),e.handleOnePlay.apply(null,arguments)}}},[r("img",{directives:[{name:"show",rawName:"v-show",value:!e.isPlaying,expression:"!isPlaying"}],staticClass:"media-gif",attrs:{src:n(829),alt:""}}),e._v(" "),r("video",{directives:[{name:"show",rawName:"v-show",value:e.isPlaying,expression:"isPlaying"}],ref:"player",staticClass:"video",attrs:{loop:"",src:e.url,"webkit-playsinline":"true",playsinline:"true","x5-playsinline":"true",poster:e.url+"?vframe/jpg/offset/1"},on:{click:e.playVideo}})]):e._e(),e._v(" "),"mp3"===e.getType()?r("div",{staticClass:"media-container",on:{click:function(t){return t.stopPropagation(),e.handleOnePlay.apply(null,arguments)}}},[e.isPlaying?r("img",{staticClass:"media-gif",attrs:{src:n(832),alt:""}}):r("img",{staticClass:"media-gif",attrs:{src:n(833),alt:""}}),e._v(" "),r("div",{staticClass:"media-control-bar",style:e.controlsWidth}),e._v(" "),r("audio",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"player",attrs:{controls:"",loop:"",src:e.url},on:{canplay:e.getDuration,timeupdate:e.updateTime}})]):e._e(),e._v(" "),"mp3"===e.getType()?r("van-icon",{staticClass:"sign",attrs:{name:"music-o"}}):e._e(),e._v(" "),"video"===e.getType()?r("van-icon",{staticClass:"sign",attrs:{name:"video-o"}}):e._e(),e._v(" "),r("div",{staticClass:"virtual-type-icon"},[r("img",{attrs:{src:e.curChain.icon,alt:""}}),e._v(" "),r("span",[e._v(e._s(e.curChain.name))])]),e._v(" "),r("div",{staticClass:"virtual-iViews-iFavorite"},[r("span",[e._v(e._s(e.$t("bridge_34"))+" "+e._s(e.collection.iViews))]),e._v("  \n      "),r("span",[e._v(e._s(e.$t("bridge_38"))+" "+e._s(e.collection.iFavorite))])])],1)}),[],!1,null,"118a81c7",null);t.default=component.exports}}]);