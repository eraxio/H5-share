(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{803:function(e,t,n){var content=n(811);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(52).default)("aab09e4c",content,!0,{sourceMap:!1})},805:function(e,t,n){"use strict";var r=n(37),o=n(26),c=n(184),l=n(59),d=n(38),h=n(99),f=n(407),m=n(148),v=n(23),w=n(126),y=n(147).f,E=n(90).f,T=n(56).f,P=n(809).trim,I="Number",_=o.Number,x=_.prototype,N=h(w(x))==I,C=function(e){var t,n,r,o,c,l,d,code,h=m(e,!1);if("string"==typeof h&&h.length>2)if(43===(t=(h=P(h)).charCodeAt(0))||45===t){if(88===(n=h.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(h.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+h}for(l=(c=h.slice(2)).length,d=0;d<l;d++)if((code=c.charCodeAt(d))<48||code>o)return NaN;return parseInt(c,r)}return+h};if(c(I,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var S,F=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof F&&(N?v((function(){x.valueOf.call(n)})):h(n)!=I)?f(new _(C(t)),n,F):C(t)},R=r?y(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),k=0;R.length>k;k++)d(_,S=R[k])&&!d(F,S)&&T(F,S,E(_,S));F.prototype=x,x.constructor=F,l(o,I,F)}},806:function(e,t,n){e.exports=n.p+"img/isMp4.4f07629.png"},807:function(e,t,n){e.exports=n.p+"img/music.899c6a2.gif"},808:function(e,t,n){e.exports=n.p+"img/music_static.e8a2f61.png"},809:function(e,t,n){var r=n(68),o="["+n(813)+"]",c=RegExp("^"+o+o+"*"),l=RegExp(o+o+"*$"),d=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(c,"")),2&e&&(n=n.replace(l,"")),n}};e.exports={start:d(1),end:d(2),trim:d(3)}},810:function(e,t,n){"use strict";n(803)},811:function(e,t,n){var r=n(51)(!1);r.push([e.i,".media[data-v-15cef168] {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n.el-image[data-v-15cef168] {\n  width: 100%;\n  height: 100%;\n}\n.media-container[data-v-15cef168] {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n.media-container .media-gif[data-v-15cef168] {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n.media-container .media-control[data-v-15cef168] {\n  position: absolute;\n  right: 0;\n  left: 0;\n  bottom: 0.133333rem;\n  color: #FFFFFF;\n  font-size: 0.533333rem;\n  height: 0.533333rem;\n  display: flex;\n  justify-content: center;\n  z-index: 120;\n}\n.media-container .media-control-bar[data-v-15cef168] {\n  bottom: 0;\n  position: absolute;\n  z-index: 10;\n  height: 0.08rem;\n  left: 0;\n  background-color: #5b90ed;\n}\n[data-v-15cef168] .el-image__inner {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n.video[data-v-15cef168] {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\naudio[data-v-15cef168] {\n  width: 100%;\n}\n.sign[data-v-15cef168] {\n  position: absolute;\n  top: 0.266667rem;\n  right: 0.266667rem;\n  z-index: 1;\n  font-size: 0.266667rem;\n  text-shadow: 0 0 0.066667rem rgba(9, 1, 4, 0.3);\n  color: #fff;\n}\n.popVideo[data-v-15cef168] {\n  width: 100%;\n}\n.container[data-v-15cef168] {\n  width: 100%;\n  height: 100%;\n  background: #f5f5f5;\n}",""]),e.exports=r},812:function(e,t,n){"use strict";n.r(t);var r=n(33),o=(n(45),n(805),n(246),n(107)),c={components:Object(r.a)({},o.a.Component.name,o.a.Component),props:{url:{type:String,default:function(){return""}},isPopVideo:{type:Boolean,default:function(){return!1}},isPopImg:{type:Boolean,default:function(){return!1}},oImgList:{type:Array,default:function(){return[]}},imgIndex:{type:Number,default:0}},data:function(){return{dialogVisible:!1,isPlaying:!1,camera:null,scene:null,renderer:null,mush:null,loader:null,mixer:null,controls:null,time:(new Date).getTime(),duration:0,currentTime:0}},computed:{controlsWidth:function(){return{width:(this.currentTime/this.duration*100).toFixed(2)+"%"}}},mounted:function(){this.url},watch:{url:function(e,ol){e&&this.$nextTick((function(){}))}},methods:{handleShowPic:function(){this.oImgList.length?Object(o.a)({images:this.oImgList,closeable:!0,startPosition:this.imgIndex,lockScroll:!1}):Object(o.a)({images:[this.url],closeable:!0,lockScroll:!1})},getDuration:function(){this.$refs.player&&(this.duration=this.$refs.player.duration)},updateTime:function(e){this.currentTime=e.target.currentTime},handleOnePlay:function(){this.isPlaying?(this.$refs.player.pause(),this.isPlaying=!1):(this.$refs.player.play(),this.isPlaying=!0)},getType:function(){return/\.(gif|jpg|jpeg|png|GIF|JPEG|JPG|PNG|svg|SVG)$/.test(this.url)?"img":/\.(mp4|webm|wav|ogg|MP4|MOV|WEBM|WAV|OGG)$/.test(this.url)?"video":/\.(mp3|MP3)$/.test(this.url)?"mp3":"3D"},createRect:function(){var e=new THREE.PlaneGeometry(1e3,1e3),t=new THREE.MeshBasicMaterial({color:11184810});return new THREE.Mesh(e,t)},handleClose:function(){this.$refs.popvideo.pause(),this.dialogVisible=!1},playVideo:function(){var e=this;if(!this.isPopVideo)return!1;this.dialogVisible=!0,this.$nextTick((function(){e.$refs.popvideo.currentTime=0,e.$refs.popvideo.play()}))},init:function(){var e=this;if("3D"===this.getType()){var t=document.getElementById("container"+this.time);this.camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.z=5,this.scene=new THREE.Scene;(new GLTFLoader).load(this.url,(function(t){e.scene.add(t.scene)}));var n=new THREE.AmbientLight(4210752,10);this.scene.add(n);var r=new THREE.DirectionalLight(16777215);this.scene.add(r);var o=new THREE.SpotLight(16777215);o.position.set(100,1e3,100),o.castShadow=!0,o.shadow.mapSize.width=1024,o.shadow.mapSize.height=1024,o.shadow.camera.near=500,o.shadow.camera.far=4e3,o.shadow.camera.fov=30,this.scene.add(o),(n=new THREE.PointLight(16711680,1,100)).position.set(50,50,50),this.scene.add(n);window.innerWidth,window.innerHeight;this.renderer=new THREE.WebGLRenderer({antialias:!0}),this.renderer.setSize(t.clientWidth,t.clientHeight),t.appendChild(this.renderer.domElement),this.controls=new OrbitControls(this.camera,this.renderer.domElement)}},render:function(){"3D"===this.getType()&&(requestAnimationFrame(this.render),this.renderer.render(this.scene,this.camera))}}},l=(n(810),n(32)),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"media"},["img"===e.getType()?r("van-image",{staticClass:"el-image",attrs:{fit:"cover","lazy-load":"",src:e.url},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.handleShowPic.apply(null,arguments)}}}):e._e(),e._v(" "),"video"===e.getType()?r("div",{staticClass:"media-container",on:{click:function(t){return t.stopPropagation(),e.handleOnePlay.apply(null,arguments)}}},[r("img",{directives:[{name:"show",rawName:"v-show",value:!e.isPlaying,expression:"!isPlaying"}],staticClass:"media-gif",attrs:{src:n(806),alt:""}}),e._v(" "),r("video",{directives:[{name:"show",rawName:"v-show",value:e.isPlaying,expression:"isPlaying"}],ref:"player",staticClass:"video",attrs:{loop:"",src:e.url,"webkit-playsinline":"true",playsinline:"true","x5-playsinline":"true",poster:e.url+"?vframe/jpg/offset/1"},on:{click:e.playVideo}})]):e._e(),e._v(" "),"mp3"===e.getType()?r("div",{staticClass:"media-container",on:{click:function(t){return t.stopPropagation(),e.handleOnePlay.apply(null,arguments)}}},[e.isPlaying?r("img",{staticClass:"media-gif",attrs:{src:n(807),alt:""}}):r("img",{staticClass:"media-gif",attrs:{src:n(808),alt:""}}),e._v(" "),r("div",{staticClass:"media-control-bar",style:e.controlsWidth}),e._v(" "),r("audio",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"player",attrs:{controls:"",loop:"",src:e.url},on:{canplay:e.getDuration,timeupdate:e.updateTime}})]):e._e(),e._v(" "),"mp3"===e.getType()?r("van-icon",{staticClass:"sign",attrs:{name:"music-o"}}):e._e(),e._v(" "),"video"===e.getType()?r("van-icon",{staticClass:"sign",attrs:{name:"video-o"}}):e._e()],1)}),[],!1,null,"15cef168",null);t.default=component.exports},813:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"}}]);